!function(n){function t(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var e={};return t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:o})},t.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=10)}([function(n,t,e){"use strict";(function(n){var t=e(2);n.pop=t.pop;var o=null,i=$(".js-login-info"),a=$(".js-tips-user");i.on("mouseenter",function(){clearTimeout(o),a.show(),$.ajax({url:"/api/plan/info",data:{},success:function(n){if(n&&n.plan){var t=n.plan,e=t.today_complete_rate;$(".circle circle[stroke-dasharray]").attr("stroke-dasharray",2*e+" "+(200-2*e)),$(".circle span").html(e+"%")}}})}),i.on("mouseleave",function(){o=setTimeout(function(){a.hide()},300)}),a.on("mouseenter",function(){clearTimeout(o)}),a.on("mouseleave",function(){o=setTimeout(function(){a.hide()},300)});var s=$(".page-header__search .butn-soso");s.on("click",function(){console.info("RUN");var n=$(".page-header__search input").val();n&&n.length>0&&(window.open("/search?keywords="+n,"_blank"),console.info(n))}),"localhost"==location.hostname?$.ajaxSetup({beforeSend:function(n,t){n.setRequestHeader("Authorization","Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjU0MDQ0MDQxZDA0M2RjMDgyYWJjNDA4OTg2OTlmZjc5ZjFmNzA0ZDgxNzEwNGYwYjVmYmYzY2ZjZjhmOWM4MTdiMzBhYjRiOWNmMTk3NDUyIn0.eyJhdWQiOiI2IiwianRpIjoiNTQwNDQwNDFkMDQzZGMwODJhYmM0MDg5ODY5OWZmNzlmMWY3MDRkODE3MTA0ZjBiNWZiZjNjZmNmOGY5YzgxN2IzMGFiNGI5Y2YxOTc0NTIiLCJpYXQiOjE1MjA2NzcxMDgsIm5iZiI6MTUyMDY3NzEwOCwiZXhwIjoxNTUyMjEzMTA4LCJzdWIiOiI4Iiwic2NvcGVzIjpbXX0.3irFbm_3KpOt6F4RsqJBsNH6NnvagJqLbRX3gPl_8uCJySMYpBBvDTXtMTmNqxTg02qviGTkw2gQw0e366keWAwP9ShKHfZQlS3uOINUzNBciB5BUFwP7PdFpgyPXVs5aCSU48Bmwb-QAZEv2rrX5CYGF0cxYjvDRjFWrGJwSiED9lxRva78057ioFicMeGsdVZjacqjzHzEi4EQHbaYt3KgT6z3EucFXcxk5ZyB9wlaXtdfrJ1JlPA4rv4bN-m6AYUVXOFy_XKLUU2_13xYIL3a0qVCL6_xMQxIueHvdi-46gwvTIkKfmbJSSpOcfuuUp3SG0i7YA4d5XArXuGRKO4iQ8aFQ0KBh8ot5n5MfdSVK9ZpA5-Ym-5O1NSbcnxDHYWj2XGzwqoSQrLGP9R-ijX0eITN7rcGfnIEgHYTwgIya8O7Rd6qqvQ-QCgX5PuxSSwlvBKpf49ENJxrX_CQY0d8Fh0R6zB5orsEzR6wQhOhzTi0OJuTgRq6V9Qc91PGBZVJKwE3Xxip3Mcf3wxTKEKgAdBb-I5cSbVgeZJN4eIC5ik0ASLrSaroQyMLe9xT7OOCnm1vA-A6iEWJcx7NIzsrfhEtCgSDs11pnQr70ltgLSdYoWi8NwSXpo37EP4io8ozRCC2qnuE3TlfqMzgJ14AlgXmipySWhhVrhuKtzw"),t.url="http://wxjy-mingyang.mion.cn"+t.url}}):$.ajaxSetup({beforeSend:function(n){window.WXJY=WXJY||{},"undefined"!=typeof WXJY.csrfToken&&n.setRequestHeader("X-CSRF-TOKEN",WXJY.csrfToken)}}),$.ajaxSetup({statusCode:{200:function(n){0==!n.code&&(0,t.pop)(n.message,"#fa8c16")},401:function(){window.location.href="/login"},500:function(){(0,t.pop)("网络异常，请稍后再试","red")}},error:function(n){"Unauthenticated."==n.error&&(window.location.href="/login")},withCredentials:!0})}).call(t,e(1))},function(n,t,e){"use strict";var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(i){"object"==typeof window&&(o=window)}n.exports=o},function(n,t,e){"use strict";function o(n,t){$(".popprompt")[0]||$('<div class="popprompt">看什么看，做题</div>').appendTo("body");var e=t?t:"#00e290";$(".popprompt").text("").text(n).css("background",e).removeClass("off").addClass("on"),setTimeout(function(){$(".popprompt").removeClass("on").addClass("off")},2e3)}Object.defineProperty(t,"__esModule",{value:!0}),t.pop=o},,,,,,,,function(n,t,e){"use strict";e(0),$(function(){function n(){$.get("/api/volume/video/"+o,function(n){if(0===n.code&&n.data.comments.total>0){var t=n.data.comments;if($(".commont-list h3 span").text(t.total),$(".commont-list ul").html(""),t.next_page_url||t.prev_page_url,t.data.length>0){var e=t.data,o="";$.each(e,function(n,t){var e=t.user;t.comment_votes;o+='<li>\n                                    <div class="left">\n                                        '+(e.avatar?"<img src="+e.avatar+' alt="">':'<img src="/static/imgs/header.png" alt="">')+'\n                                    </div>\n                                    <div class="right">\n                                        <p class="title">'+e.nickname+"</p>\n                                        <p>"+t.content+'</p>\n                                        <p class="foot" data-comment-id="1">\n                                            <!--未赞(默认)-->\n                                            <span><i class="icon-video-nozan"></i> 赞同 <span>2</span></span>\n                                            <!--已赞-->\n                                            <span><i class="icon-video-zan"></i> 赞同 <span>2</span></span>\n                                            <!--<span><i class="icon-video-message"></i> 评论 <span>2</span></span>-->\n                                            <!--<span><i class="icon-video-share"></i> 分享 <span>2</span></span>-->\n                                            <span class="fr">'+t.created_at+"</span>\n                                        </p>\n                                    </div>\n                                </li>"}),$(o).appendTo(".commont-list ul")}}else 0===n.code&&0===n.data.comments.total&&($(".commont-list h3 span").text(0),$(".commont-list ul").html("<span>暂无评论</span>"))})}function t(n,t,e){$(n).addClass("added-zan").find("span").text(parseInt($(n).find("span").text())+1).end().find("i").removeClass(t).addClass(e)}function e(n,t,e){$(n).removeClass("added-zan").find("span").text(parseInt($(n).find("span").text())-1).end().find("i").removeClass(t).addClass(e)}var o=$(".page-content").data("testVolumeId");$(".title-zan").click(function(){var n=$(this).parent().data("testVolumeId"),o=this;$(this).hasClass("added-zan")?$.post("/api/volume/vote",{test_volume_id:n,vote_type:0},function(n){n&&0===n.code&&e(o,"icon-video-zan-big","icon-video-nozan-big")}):$.post("/api/volume/vote",{test_volume_id:n,vote_type:1},function(n){n&&0===n.code&&t(o,"icon-video-nozan-big","icon-video-zan-big")})}),$(".foot>span:first-of-type").click(function(){var n=$(this).parent().data("commentId"),o=this;$(this).hasClass("added-zan")?$.post("/api/comment/vote",{comment_id:n,vote_type:0},function(n){n&&0===n.code&&e(o,"icon-video-zan","icon-video-nozan")}):$.post("/api/comment/vote",{comment_id:n,vote_type:1},function(n){n&&0===n.code&&t(o,"icon-video-nozan","icon-video-zan")})}),$(".form-wrapper input").click(function(){var n=$(this).parent().data("testVolumeId"),t=$(this).siblings("textarea").val();$.post("/api/volume/addComment",{test_volume_id:n,content:t})}),n()})}]);
//# sourceMappingURL=courseVideo.js.map