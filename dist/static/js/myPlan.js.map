{"version":3,"sources":["webpack:///static/js/myPlan.js","webpack:///webpack/bootstrap 416836ea22a71a2be1de","webpack:///./src/js/modules/header.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/js/modules/prompt.js","webpack:///./src/js/myPlan.js","webpack:///./src/js/modules/timeplan.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","0","global","_prompt","pop","timer","loginInfo","$","tipsUser","on","clearTimeout","show","ajax","url","data","success","json","plan","today_complete_rate","attr","html","setTimeout","hide","btnSoso","soso","val","length","window","open","keyup","document","keypress","e","which","location","hostname","ajaxSetup","beforeSend","xhr","settings","setRequestHeader","WXJY","csrfToken","statusCode","200","mess","code","message","401","href","500","error","withCredentials","1","g","this","Function","eval","2","txt","color","appendTo","bg","text","css","removeClass","addClass","value","23","getDateStr","date","_year","getFullYear","_month","getMonth","_d","getDate","todayplan","Date","w","getplan","userLevel","user","current_level","planTodos","lis","todo","each","v","todo_title","status","todo_content","id","external_words","_word","plan_word","isEmptyObject","testVolumeGroups","key","planColumn","k","planul","testBookPercentage","datas","t","time","time_count","parseInt","done_num","total_num","test_volume_name","correct_rate","planDate","test_view_url","test_video_url","resource_video","level","test_download_url","resource_document","rate","word","sta","type","plan_word_id","showCalendarData","dateObj","_dateStr","titleStr","substr","_firstDay","dayweek","getDay","_thisDay","_thisDayStr","substring","eq","children","clickplan","getmonthplan","remove","startDate","endDate","r","plan_date","title","testVolumes","summary","month","planMonth","totalProgress","subject_name","total_percent","done_total_num","_date","setDate","flag","async","test_volume_id","needConfirm","click","stopPropagation","ei","target","parent","closest","find","prop","siblings","index","par","left","position","top","_word2","aa","bb","split","day","exam_date","diffDate","hour","minute","cont","todo_date","todo_id","post","4","$year","$month","$day","str","year","dayCount","yearNow","monthNow","removeEle","dayNow","sed","daySel","dayStr","append","ele","FirstValue","FirstText","inittime","yearSel","yearStr","monthSel","monthStr","change"],"mappings":"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","file":"static/js/myPlan.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 23);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar _prompt = __webpack_require__(2);\n\nglobal.pop = _prompt.pop;\n// 导航\nvar timer = null;\nvar loginInfo = $('.js-login-info');\nvar tipsUser = $('.js-tips-user');\nloginInfo.on('mouseenter', function () {\n    clearTimeout(timer);\n    tipsUser.show();\n    $.ajax({\n        url: '/api/plan/info',\n        data: {},\n        success: function success(json) {\n            if (json && json.plan) {\n                var plan = json.plan;\n                var today_complete_rate = plan.today_complete_rate;\n                $('.circle circle[stroke-dasharray]').attr('stroke-dasharray', today_complete_rate * 2 + ' ' + (200 - today_complete_rate * 2));\n                $('.circle span').html(today_complete_rate + '%');\n            }\n        }\n    });\n});\nloginInfo.on('mouseleave', function () {\n    timer = setTimeout(function () {\n        tipsUser.hide();\n    }, 300);\n});\n\ntipsUser.on('mouseenter', function () {\n    clearTimeout(timer);\n});\n\ntipsUser.on('mouseleave', function () {\n    timer = setTimeout(function () {\n        tipsUser.hide();\n    }, 300);\n});\n\nvar btnSoso = $('.page-header__search .butn-soso');\nbtnSoso.on('click', function () {\n    // console.info(\"RUN\");\n    var soso = $('.page-header__search input').val();\n    if (soso && soso.length > 0) {\n        window.open('/search?keywords=' + soso, '_blank');\n        $('.page-header__search input').val('');\n        // console.info(soso);\n    }\n});\n$(\".page-header__search input\").keyup(function () {\n    $(document).keypress(function (e) {\n        // 回车键事件\n        if (e.which == 13) {\n            var soso = $('.page-header__search input').val();\n            if (soso && soso.length > 0) {\n                window.open('/search?keywords=' + soso, '_blank');\n                // console.info(soso);\n            }\n        }\n    });\n});\nif (location.hostname == 'localhost') {\n    $.ajaxSetup({\n        beforeSend: function beforeSend(xhr, settings) {\n            xhr.setRequestHeader(\"Authorization\", \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjU0MDQ0MDQxZDA0M2RjMDgyYWJjNDA4OTg2OTlmZjc5ZjFmNzA0ZDgxNzEwNGYwYjVmYmYzY2ZjZjhmOWM4MTdiMzBhYjRiOWNmMTk3NDUyIn0.eyJhdWQiOiI2IiwianRpIjoiNTQwNDQwNDFkMDQzZGMwODJhYmM0MDg5ODY5OWZmNzlmMWY3MDRkODE3MTA0ZjBiNWZiZjNjZmNmOGY5YzgxN2IzMGFiNGI5Y2YxOTc0NTIiLCJpYXQiOjE1MjA2NzcxMDgsIm5iZiI6MTUyMDY3NzEwOCwiZXhwIjoxNTUyMjEzMTA4LCJzdWIiOiI4Iiwic2NvcGVzIjpbXX0.3irFbm_3KpOt6F4RsqJBsNH6NnvagJqLbRX3gPl_8uCJySMYpBBvDTXtMTmNqxTg02qviGTkw2gQw0e366keWAwP9ShKHfZQlS3uOINUzNBciB5BUFwP7PdFpgyPXVs5aCSU48Bmwb-QAZEv2rrX5CYGF0cxYjvDRjFWrGJwSiED9lxRva78057ioFicMeGsdVZjacqjzHzEi4EQHbaYt3KgT6z3EucFXcxk5ZyB9wlaXtdfrJ1JlPA4rv4bN-m6AYUVXOFy_XKLUU2_13xYIL3a0qVCL6_xMQxIueHvdi-46gwvTIkKfmbJSSpOcfuuUp3SG0i7YA4d5XArXuGRKO4iQ8aFQ0KBh8ot5n5MfdSVK9ZpA5-Ym-5O1NSbcnxDHYWj2XGzwqoSQrLGP9R-ijX0eITN7rcGfnIEgHYTwgIya8O7Rd6qqvQ-QCgX5PuxSSwlvBKpf49ENJxrX_CQY0d8Fh0R6zB5orsEzR6wQhOhzTi0OJuTgRq6V9Qc91PGBZVJKwE3Xxip3Mcf3wxTKEKgAdBb-I5cSbVgeZJN4eIC5ik0ASLrSaroQyMLe9xT7OOCnm1vA-A6iEWJcx7NIzsrfhEtCgSDs11pnQr70ltgLSdYoWi8NwSXpo37EP4io8ozRCC2qnuE3TlfqMzgJ14AlgXmipySWhhVrhuKtzw\");\n            settings.url = \"http://wxjy-mingyang.mion.cn\" + settings.url;\n        }\n    });\n} else {\n    $.ajaxSetup({\n        beforeSend: function beforeSend(xhr) {\n            window.WXJY = WXJY || {};\n            if (typeof WXJY.csrfToken !== 'undefined') {\n                xhr.setRequestHeader(\"X-CSRF-TOKEN\", WXJY.csrfToken);\n            }\n        }\n    });\n}\n$.ajaxSetup({\n    statusCode: {\n        200: function _(mess) {\n            if (!mess.code == 0) {\n                (0, _prompt.pop)(mess.message, '#fa8c16');\n            }\n        },\n        401: function _() {\n            window.location.href = '/login';\n        },\n        500: function _() {\n            (0, _prompt.pop)('网络异常，请稍后再试', 'red');\n        }\n    },\n    error: function error(mess) {\n        if (mess.error == 'Unauthenticated.') {\n            window.location.href = '/login';\n        }\n    },\n    withCredentials: true\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar g;\n\n// This works in non-strict mode\ng = (function () {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n//提示框动画\n\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nfunction pop(txt, color) {\n    if (!$('.popprompt')[0]) {\n        $('<div class=\"popprompt\">看什么看，做题</div>').appendTo('body');\n    }\n    var bg = color ? color : '#00e290';\n    $('.popprompt').text('').text(txt).css('background', bg).removeClass('off').addClass('on');\n    setTimeout(function () {\n        $('.popprompt').removeClass('on').addClass('off');\n    }, 2000);\n}\n\nexports.pop = pop;\n\n/***/ }),\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(0);\n\n__webpack_require__(4);\n\n$(function () {\n    //用于记录日期，显示的时候，根据dateObj中的日期的年月显示\n    var dateObj = (function () {\n        var _date = new Date(); // 默认为当前系统时间\n        return {\n            getDate: function getDate() {\n                return _date;\n            },\n            setDate: function setDate(date) {\n                _date = date;\n            }\n        };\n    })();\n\n    //日期转化为字符串， 4位年+2位月+2位日\n    function getDateStr(date) {\n        var _year = date.getFullYear();\n        var _month = date.getMonth() + 1; // 月从0开始计数\n        var _d = date.getDate();\n\n        _month = _month > 9 ? \"\" + _month : \"0\" + _month;\n        _d = _d > 9 ? \"\" + _d : \"0\" + _d;\n        return _year + _month + _d;\n    }\n\n    //页面加载时获取当天的备考计划\n    function todayplan() {\n        var date = new Date(),\n            _year = date.getFullYear(),\n            _month = date.getMonth() + 1,\n            // 月从0开始计数\n        _d = date.getDate();\n        var _month = _month > 9 ? \"\" + _month : \"0\" + _month,\n            _d = _d > 9 ? \"\" + _d : \"0\" + _d,\n            w = _year + '-' + _month + '-' + _d;\n        getplan(w);\n    }\n\n    todayplan();\n\n    //获取备考规划\n    function getplan(w) {\n        // console.log(w)\n        $.ajax({\n            url: '/api/plan/info',\n            data: 'planDate=' + w,\n            success: function success(mess) {\n                $('.detailplan,.recite,.program').html('');\n                var userLevel = mess.user.current_level;\n                if (mess.planTodos.length >= 1) {\n                    var lis = '',\n                        todo = mess.planTodos;\n                    $.each(todo, function (i, v) {\n                        lis += '<div class=\"column-title\">\\n                                        <div class=\"title\">' + v.todo_title + '</div>\\n                                    </div>\\n                                    <div class=\"column-bd\">\\n                                        <ul class=\"list\">\\n                                            <li class=\"item\">\\n                                                <div class=\"situation\">\\n                                                    <input type=\"checkbox\" disabled ' + (v.status == 1 ? \"checked\" : \"\") + '>\\n                                                    <span class=\"row row-1\" style=\"width: 410px;display: inline-block;margin-bottom: -2px\">' + v.todo_content + '</span>\\n                                                </div>\\n                                                <div class=\"btns\" id=' + v.id + ' data-status=' + v.status + '>\\n                                                    <a href=\"javaScript:;\" class=\"btn-go do\" id=\"3\" data-title=' + v.todo_title + ' data-content=' + v.todo_content + '>查看编辑</a>\\n                                                    <a href=\"javaScript:;\" class=\"btn-go do\" id=\"2\">完成</a>\\n                                                    <a href=\"javaScript:;\" class=\"btn-cancle\" id=\"1\">未完成</a>\\n                                                </div>\\n                                            </li>\\n                                        </ul>\\n                                    </div>';\n                    });\n                    $('<div class=\"plan-column\">\\n                            <div class=\"column-hd\">\\n                                <h3 class=\"title\">日程</h3>\\n                            </div>\\n                            <ul class=\"colunmdetail\">\\n                                ' + lis + '\\n                            </ul>\\n                        </div>').appendTo('.program');\n                }\n                if (mess && mess.plan) {\n                    if (mess.plan.external_words.length >= 1) {\n                        var _word = mess.plan.external_words;\n                        var lis = '';\n                        $.each(_word, function (i, v) {\n                            lis += '<li class=\"item\">\\n                                <div class=\"situation\">\\n                                    <input type=\"checkbox\" disabled ' + (v.status == 2 ? \"checked\" : \"\") + '>\\n                                    <span class=\"row row-1\">' + v.plan_word + '</span>\\n                                </div>\\n                                <div class=\"btns\" id=' + v.id + ' data-status=' + v.status + '>\\n                                    <a href=\"javaScript:;\" class=\"btn-go do\" id=\"2\">完成</a>\\n                                    <a href=\"javaScript:;\" class=\"btn-cancle\" id=\"1\">未完成</a>\\n                                </div>\\n                           </li>';\n                        });\n                        $('<div class=\"plan-column\">\\n                                <div class=\"column-hd\">\\n                                    <h3 class=\"title\">背诵</h3>\\n                                </div>\\n                                <div class=\"colunmdetail\">\\n                                    <div class=\"column-title\">\\n                                        <div class=\"title\">外部词汇</div>\\n                                    </div>\\n                                    <div class=\"column-bd\">\\n                                        <ul class=\"list\">' + lis + '</ul>\\n                                    </div>\\n                                </div>\\n                            </div>').appendTo('.recite');\n                    }\n                    if (!$.isEmptyObject(mess.plan.testVolumeGroups)) {\n                        var data = mess.plan.testVolumeGroups;\n                        $.each(data, function (key, value) {\n                            // console.log(key, value)\n                            var planColumn = $('<div class=\"plan-column\">\\n                                            <div class=\"column-hd\">\\n                                                <h3 class=\"title\">' + key + '</h3>\\n                                            </div>\\n                                       </div>').appendTo('.detailplan');\n                            $.each(value, function (k, v) {\n                                var planul = $('<div class=\"colunmdetail\">\\n                                                    <div class=\"column-title\">\\n                                                        <div class=\"title\">' + k + '</div>\\n                                                        <div class=\"done-progress\">\\n                                                            <span class=\"txt\">完成</span>\\n                                                            <span class=\"done-range\">\\n                                                                <span class=\"cur\" style=\"width: ' + v.testBookPercentage + '%;\"></span>\\n                                                            </span>\\n                                                            <span class=\"num\">' + v.testBookPercentage + '%</span>\\n                                                        </div>\\n                                                    </div>\\n                                                 </div>').appendTo(planColumn);\n                                // console.log(k, v)\n                                var lis = '';\n                                $.each(v.datas, function (i, t) {\n                                    var time = t.time_count == 0 ? '0s' : parseInt(t.time_count / 60) == 0 ? t.time_count + 's' : parseInt(t.time_count / 60) + 'min' + t.time_count % 60 + 's';\n                                    lis += '<li class=\"item\">\\n                                                <div class=\"situation\">\\n                                                    <input type=\"checkbox\" disabled ' + (t.done_num == t.total_num ? \"checked\" : \"\") + '>\\n                                                    <span class=\"row row-1\">' + t.test_volume_name + '</span>\\n                                                    <span class=\"row row-2\">已做题 ' + t.done_num + '/' + t.total_num + '</span>\\n                                                    <span class=\"row row-3\">总耗时 ' + time + '</span>\\n                                                    <span class=\"row row-4\">正确率 ' + t.correct_rate + '%</span>\\n                                                </div>\\n                                                <div class=\"btns\">\\n                                                    <a href=\"javascript:;\" class=\"btn-go do\" data-date=' + mess.planDate + ' data-id=' + t.id + '>做题</a>\\n                                                    <a href=' + t.test_view_url + ' class=\"btn-cancle see\">查看</a>\\n                                                    ' + (t.test_video_url ? '' + (userLevel < t.resource_video.level ? '<span class=\"btn-cancle noLev\" onclick=\" $(\\'.applyBox\\').show()\">视频</span>' : '<a href=' + t.test_video_url + ' class=\"btn-cancle video\">视频</a>') : '<span class=\"btn-cancle noRes\">视频</span>') + '\\n                                                                    ' + (t.test_download_url ? '' + (userLevel < t.resource_document.level ? '<span class=\"btn-cancle noLev\" onclick=\" $(\\'.applyBox\\').show()\">下载</span>' : '<a href=' + t.test_download_url + ' class=\"btn-cancle download\">下载</a>') : '<span class=\"btn-cancle noRes\">下载</span>') + '\\n                                                                </div>\\n                                                            </li>';\n                                });\n                                $('<div class=\"column-bd\">\\n                                        <ul class=\"list\">\\n                                            ' + lis + '\\n                                        </ul>\\n                                    </div>').appendTo(planul);\n                            });\n                        });\n                    }\n                    var rate = mess.plan.today_complete_rate;\n                    $('.day-plan circle:nth-of-type(2)').attr('stroke-dasharray', rate * 2 + ' ' + (200 - rate * 2));\n                    $('.day-plan span').text(rate + '%');\n                }\n            },\n            error: function error() {\n                $('.detailplan,.recite').html('');\n            }\n        });\n    }\n\n    //重做选择弹窗显示\n    $('.detailplan').on('click', '.do', function () {\n        var planDate = $(this).data('date'),\n            id = $(this).data('id'),\n            flag = true;\n        $.ajax({\n            async: false,\n            type: 'post',\n            url: '/api/volume/needConfirm',\n            data: { plan_date: planDate, test_volume_id: id },\n            success: function success(mess) {\n                if (mess && mess.code === 0) {\n                    if (mess.data.needConfirm) {\n                        $('.reorco .btn-go').attr('href', \"/exam/test/\" + id + \"?restart=0\");\n                        $('.reorco .btn-re').attr('href', \"/exam/test/\" + id + \"?restart=1\");\n                        $('.reorco').show();\n                        flag = true;\n                    } else {\n                        flag = false;\n                    }\n                }\n            }\n        });\n        flag ? '' : window.open(\"/exam/test/\" + id + \"?restart=0\");\n        // }) === false ? window.open(\"/exam/test/\" + id + \"?restart=0\") : console.log(flag)\n    });\n\n    function re() {}\n\n    $('.reorco a').click(function (e) {\n        e.stopPropagation();\n        $('.reorco').hide();\n    });\n    //发送背诵完成状态\n    $('.recite').click(function (e) {\n        var ei = $(e.target),\n            id = ei.parent().attr('id'),\n            s = ei.parent().data('status');\n        if (s == 1 && ei.attr('id') == 2) {\n            $(ei.closest('li').find('input')).prop('checked', true);\n            word(id, 2);\n            ei.parent().data('status', 2);\n        } else if (s == 2 && ei.attr('id') == 1) {\n            $(ei.closest('li').find('input')).prop('checked', false);\n            word(id, 1);\n            ei.parent().data('status', 1);\n        }\n    });\n\n    function word(id, sta) {\n        $.ajax({\n            url: '/api/plan/word/changeStatus',\n            type: 'post',\n            data: { plan_word_id: id, status: sta }\n        });\n    }\n\n    // 表格中显示日期\n    showCalendarData();\n\n    function showCalendarData() {\n        var date = dateObj.getDate();\n        var _year = date.getFullYear();\n        var _month = date.getMonth() + 1;\n        var _dateStr = getDateStr(date);\n        // 设置顶部标题栏中的 年、月信息\n        var titleStr = _dateStr.substr(0, 4) + \"年\" + _dateStr.substr(4, 2) + \"月\";\n        $('.month').text('' + titleStr);\n        $('.year-month span').text('' + titleStr);\n        $('.plan-summary .title span').text('' + titleStr);\n        var _firstDay = new Date(_year, _month - 1, 1); // 当前月第一天\n        // 设置时间轴中的日期数据\n        $(\".day ul li\").each(function (i, v) {\n            $(v).removeClass('today');\n            var dayweek = date.getDay() == 0 ? 7 : date.getDay();\n            var _thisDay = new Date(_year, _month - 1, date.getDate() + i + 1 - dayweek);\n            var _thisDayStr = getDateStr(_thisDay);\n            var w = _thisDayStr.substring(0, 4) + '-' + _thisDayStr.substring(4, 6) + '-' + _thisDayStr.substring(6, 8);\n            $(v).attr('data', w);\n            $(v).text(_thisDay.getDate());\n            if (_thisDayStr == getDateStr(new Date())) {\n                $(v).addClass('today clicked');\n                $('.week li').eq(i).addClass('clicked');\n            } else if (_thisDayStr.substr(0, 6) == getDateStr(_firstDay).substr(0, 6)) {\n                $(v).removeClass('otherMonth');\n                $(v).addClass('currentMonth');\n            } else {\n                $(v).removeClass('currentMonth');\n                $(v).addClass('otherMonth');\n            }\n        });\n        //设置月视图中日期数据\n        $('.month_schedule td').each(function (i, v) {\n            $(v).removeClass('today');\n            var dayweek = _firstDay.getDay() == 0 ? 7 : _firstDay.getDay();\n            var _thisDay = new Date(_year, _month - 1, i + 2 - dayweek);\n            var _thisDayStr = getDateStr(_thisDay);\n            var w = _thisDayStr.substring(0, 4) + '-' + _thisDayStr.substring(4, 6) + '-' + _thisDayStr.substring(6, 8);\n            $(v).attr('data', w);\n            $(v).children('b').text(_thisDay.getDate());\n            if (_thisDayStr == getDateStr(new Date())) {\n                // 当前天\n                $(v).addClass('today');\n            } else if (_thisDayStr.substr(0, 6) == getDateStr(_firstDay).substr(0, 6)) {\n                $(v).removeClass('otherMonth');\n                $(v).addClass('currentMonth'); // 当前月\n            } else {\n                    // 其他月\n                    $(v).removeClass('currentMonth');\n                    $(v).addClass('otherMonth');\n                }\n        });\n    }\n\n    $('.thistoday').click(function () {\n        dateObj.setDate(new Date());\n        $('.clicked').removeClass('clicked');\n        showCalendarData();\n        todayplan();\n    });\n    //时间轴时间选择\n    $('.week li').click(function () {\n        $(this).addClass('clicked').siblings().removeClass(\"clicked\");\n        var index = $(this).index();\n        $('.day ul li').eq(index).addClass('clicked').siblings().removeClass(\"clicked\");\n        var w = $(this).attr('data');\n        getplan(w);\n    });\n    $('.day ul li').click(function () {\n        $(this).addClass('clicked').siblings().removeClass(\"clicked\");\n        var index = $(this).index();\n        $('.week li').eq(index).addClass('clicked').siblings().removeClass(\"clicked\");\n        var w = $(this).attr('data');\n        getplan(w);\n    });\n    //上一个星期，下一个星期时间\n    $('.prev').click(function () {\n        var date = dateObj.getDate();\n        dateObj.setDate(new Date(date.getFullYear(), date.getMonth(), date.getDate() - 7));\n        showCalendarData();\n        clickplan();\n    });\n    $('.next').click(function () {\n        var date = dateObj.getDate();\n        dateObj.setDate(new Date(date.getFullYear(), date.getMonth(), date.getDate() + 7));\n        showCalendarData();\n        clickplan();\n    });\n\n    //改变日期，获取选中日期的规划\n    function clickplan() {\n        var w = $('.day ul li.clicked').attr('data');\n        getplan(w);\n    }\n\n    //上个月，下个月时间\n    $('.mprev').click(function () {\n        $('.plan').remove();\n        var date = dateObj.getDate();\n        dateObj.setDate(new Date(date.getFullYear(), date.getMonth() - 1, 1));\n        showCalendarData();\n        getmonthplan();\n    });\n    $('.mnext').click(function () {\n        $('.plan').remove();\n        var date = dateObj.getDate();\n        dateObj.setDate(new Date(date.getFullYear(), date.getMonth() + 1, 1));\n        showCalendarData();\n        getmonthplan();\n    });\n\n    //月视图展示\n    $('.thismon').click(function () {\n        $('.plan').remove();\n        getmonthplan();\n        $('.month_scheduleBox').show();\n    });\n\n    $('.thisweek').click(function () {\n        $('.month_scheduleBox').hide();\n    });\n\n    $('.month_schedule').on('click', '.plan', function () {\n        // console.log($(this))\n        var par = $(this).parent();\n        var date = par.attr('data');\n        var left = par.position().left;\n        var top = par.position().top;\n        // console.log(left,top)\n        // console.log($(this).parent())\n        $('.planshow').removeClass('l r t b').hide();\n        if (left < 500 && top < 400) {\n            par.find('.planshow').addClass('l t');\n        } else if (left > 500 && top < 400) {\n            par.find('.planshow').addClass('r t');\n        } else if (left < 500 && top > 400) {\n            par.find('.planshow').addClass('l b');\n        } else if (left > 500 && top > 400) {\n            par.find('.planshow').addClass('r b');\n        }\n        // console.log(date)\n        $.ajax({\n            url: '/api/plan/info',\n            data: 'planDate=' + date,\n            success: function success(mess) {\n                $('.planshow').html('');\n                if (mess && mess.plan) {\n                    var rate = mess.plan.today_complete_rate;\n                    $('<div class=\"top\">\\n                            <h3>' + mess.plan.plan_date + '</h3>\\n                            <a class=\"close\">×</a>\\n                            </div>\\n                        <div class=\"dayprogress\">\\n                            <div class=\"done-circle\">\\n                                <svg width=\"112\" height=\"112\" viewbox=\"0 0 112 112\">\\n                                    <circle cx=\"56\" cy=\"56\" r=\"48\" stroke-width=\"10\" stroke=\"#ffde00\" fill=\"none\"></circle>\\n                                    <circle cx=\"56\" cy=\"56\" r=\"48\" stroke-width=\"10\" stroke=\"#00e290\" fill=\"none\"\\n                                            transform=\"matrix(0,-1,1,0,0,112)\" stroke-dasharray=\"' + rate / 100 * 300 + ' ' + (300 - rate / 100 * 300) + '\"></circle>\\n                                </svg>\\n                                <span class=\"inner\">' + rate + '%</span>\\n                            </div>\\n                            <p>当日计划完成</p>\\n                        </div>\\n                        <ul class=\"mon-day-plan\"></ul>').appendTo('.planshow');\n                    if (mess.plan.external_words.length >= 1) {\n                        var _word2 = mess.plan.external_words;\n                        var aa = $('<li>\\n                                    <h3 class=\"title\">背诵</h3>\\n                                    <h3 class=\"subtitle\">外部词汇</h3>\\n                                   </li>').appendTo($('.mon-day-plan'));\n                        var lis = '';\n                        $.each(_word2, function (i, v) {\n                            lis += '<li>\\n                                    <span>' + v.plan_word + '</span>\\n                                    <span>' + (v.status == 1 ? '未完成' : '已完成') + '</span>\\n                                  </li>';\n                        });\n                        $('<ul class=\"dayplan\">' + lis + '</ul>').appendTo(aa);\n                    }\n                    if (!$.isEmptyObject(mess.plan.testVolumeGroups)) {\n                        var data = mess.plan.testVolumeGroups;\n                        $.each(data, function (key, value) {\n                            var bb = $('<li>\\n                                            <h3 class=\"title\">' + key + '</h3>\\n                                        </li>').appendTo($('.mon-day-plan'));\n                            $.each(value, function (k, v) {\n                                $('<h3 class=\"subtitle\">' + k + '</h3>').appendTo(bb);\n                                var lis = '';\n                                $.each(v.datas, function (i, t) {\n                                    lis += '<li>\\n                                        <span>' + t.test_volume_name + '</span>\\n                                        <span>已做题&nbsp;' + t.done_num + '/' + t.total_num + '</span>\\n                                  </li>';\n                                });\n                                $('<ul class=\"dayplan\">' + lis + '</ul>').appendTo(bb);\n                            });\n                        });\n                    }\n                    $('<div class=\"toDetailPlan\" data=\"' + mess.plan.plan_date + '\">查看当日规划</div>').appendTo($('.planshow'));\n                }\n            }\n        });\n        par.find('.planshow').show();\n    });\n\n    $('.month_schedule').on('click', '.planshow .close', function () {\n        $('.planshow').hide();\n        return false;\n    });\n\n    //月视图查看当日备考规划\n    $('.month_schedule').on('click', '.planshow .toDetailPlan', function () {\n        $('.planshow').hide();\n        $('.month_scheduleBox').hide();\n        var w = $('.toDetailPlan').attr('data');\n        getplan(w);\n        var e = w.split('-');\n        dateObj.setDate(new Date(e[0], parseInt(e[1]) - 1, parseInt(e[2])));\n        showCalendarData();\n        $('.clicked').removeClass('clicked');\n        $.each($('.day ul li'), function (i, v) {\n            if ($(v).attr('data') == w) {\n                // console.log(w)\n                $(v).addClass('clicked');\n                $('.week li').eq(i).addClass('clicked');\n            }\n        });\n        return false;\n    });\n\n    //获取月规划\n    function getmonthplan() {\n        $('.plan').remove();\n        $.ajax({\n            url: '/api/plan/monthView',\n            data: { startDate: $('#monthfirst').attr('data'), endDate: $('#monthlast').attr('data') },\n            // data: {startDate: '2018-01-01', endDate: '2018-01-31'},\n            success: function success(r) {\n                // console.log(r)\n                // console.log(r.code==0)\n                // console.log(r.data.plan.length!=0)\n                if (r.code == 0 && r.data) {\n                    if (r.data.plan.length >= 1) {\n                        var plan = r.data.plan;\n                        // console.log(plan)\n                        $.each(plan, function (i, v) {\n                            // console.log(v)\n                            var date = v.plan_date;\n                            var title = v.testVolumes;\n                            // console.log(date,title)\n                            $('.month_schedule td').each(function (i, k) {\n                                if ($(k).attr('data') == date && title.length != 0) {\n                                    $('<div class=\"plan\">\\n                                        <p>' + title[0].test_volume_name + '</p>\\n                                        <div class=\"planshow\"></div>\\n                                   </div>').appendTo($(k));\n                                }\n                            });\n                        });\n                    }\n                }\n            }\n        });\n    }\n\n    //距离考试时间设置\n    $(document).click(function (e) {\n        if (e.target == $('.scheduleBox').get(0)) {\n            $('.scheduleBox').hide();\n        } else if (e.target == $('.month_scheduleBox').get(0)) {\n            $('.month_scheduleBox').hide();\n        } else if (e.target == $('.todoBox').get(0)) {\n            $('.todoBox').hide();\n        }\n    });\n    $('.day-distance').click(function () {\n        $('.scheduleBox').show();\n    });\n    $('.schedule_close').click(function () {\n        $('.scheduleBox').hide();\n    });\n    $('.schedule .bot').click(function () {\n        if ($('#year').val() != '0' && $('#month').val() != '0' && $('#day').val() != '0') {\n            (function () {\n                var month = $('#month').val() > 9 ? $('#month').val() : '0' + $('#month').val();\n                var day = $('#day').val() > 9 ? $('#day').val() : '0' + $('#day').val();\n                var time = $('#year').val() + '-' + month + '-' + day;\n                $.ajax({\n                    url: '/api/plan/changeDate',\n                    type: 'post',\n                    data: { exam_date: time },\n                    success: function success(mess) {\n                        // console.log(mess)\n                        if (mess.code == 0) {\n                            pop('时间设置成功');\n                            var data = mess.data.diffDate;\n                            $('#lastday').text(data.day);\n                            $('#lasthour').text(data.hour);\n                            $('#lastmin').text(data.minute);\n                            $('input[name=exam_date]').val(time);\n                            $('.scheduleBox').hide();\n                        } else if (mess.code == 1) {\n                            // console.log(mess.message)\n                        }\n                    },\n                    error: function error(mess) {\n                        // console.log(mess)\n                    }\n                });\n            })();\n        } else {\n                pop('请设置正确的时间', 'red');\n            }\n    });\n\n    //月度做题学习总结\n    summary();\n\n    function summary() {\n        var s = $('.plan-summary .title span').text();\n        // console.log(s.substring(0,4)+'-'+s.substring(5,7)+'-01')\n        var month = s.substring(0, 4) + '-' + s.substring(5, 7) + '-01';\n        $.ajax({\n            url: '/api/plan/summary',\n            data: { planMonth: month },\n            success: function success(mess) {\n                if (mess && mess.data) {\n                    if (mess.data.summary && mess.data.totalProgress) {\n                        $('.lf-bd').html('');\n                        var lis = '';\n                        var data = mess.data.summary;\n                        var rate = mess.data.totalProgress;\n                        $('.rg-precent').attr('stroke-dasharray', rate * 4 + ' ' + (400 - rate * 4));\n                        $('.rg .inner').text(rate + '%');\n                        $.each(data, function (i, v) {\n                            lis += '<li class=\"done-progress\">\\n                                    <span class=\"txt\">' + v.subject_name + '</span>\\n                                    <span class=\"done-range\">\\n                                        <span class=\"cur\" style=\"width: ' + v.total_percent + '%;\"></span>\\n                                    </span>\\n                                    <span class=\"num\">' + v.done_total_num + '/' + v.total_num + '</span>\\n                                </li>';\n                        });\n                        $(lis).appendTo('.lf-bd');\n                    } else {\n                        $('.lf-bd').html('');\n                        var lis = '<li class=\"done-progress\">\\n                                        <span class=\"txt\">词汇</span>\\n                                        <span class=\"done-range\">\\n                                            <span class=\"cur\" style=\"width: 0%;\"></span>\\n                                        </span>\\n                                        <span class=\"num\">0/0</span>\\n                                    </li>\\n                                    <li class=\"done-progress\">\\n                                        <span class=\"txt\">填空</span>\\n                                        <span class=\"done-range\">\\n                                            <span class=\"cur\" style=\"width: 0%;\"></span>\\n                                        </span>\\n                                        <span class=\"num\">0/0</span>\\n                                    </li>\\n                                    <li class=\"done-progress\">\\n                                        <span class=\"txt\">阅读</span>\\n                                        <span class=\"done-range\">\\n                                            <span class=\"cur\" style=\"width: 0%;\"></span>\\n                                        </span>\\n                                        <span class=\"num\">0/0</span>\\n                                    </li>\\n                                    <li class=\"done-progress\">\\n                                        <span class=\"txt\">数学</span>\\n                                        <span class=\"done-range\">\\n                                            <span class=\"cur\" style=\"width: 0%;\"></span>\\n                                        </span>\\n                                        <span class=\"num\">0/0</span>\\n                                    </li>\\n                                    <li class=\"done-progress\">\\n                                        <span class=\"txt\">作文</span>\\n                                        <span class=\"done-range\">\\n                                            <span class=\"cur\" style=\"width: 0%;\"></span>\\n                                        </span>\\n                                        <span class=\"num\">0/0</span>\\n                                    </li>';\n                        $(lis).appendTo('.lf-bd');\n                        $('.rg-precent').attr('stroke-dasharray', '0 400');\n                        $('.rg .inner').text('0%');\n                    }\n                }\n            },\n            error: function error() {}\n        });\n    }\n\n    $('.btn-prev').click(function () {\n        var date = dateObj.getDate();\n        dateObj.setDate(new Date(date.getFullYear(), date.getMonth() - 1, 1));\n        var _dateStr = getDateStr(date);\n        var titleStr = _dateStr.substr(0, 4) + \"年\" + _dateStr.substr(4, 2) + \"月\";\n        $('.plan-summary .title span').text('' + titleStr);\n        summary();\n    });\n    $('.btn-next').click(function () {\n        var date = dateObj.getDate();\n        dateObj.setDate(new Date(date.getFullYear(), date.getMonth() + 1, 1));\n        var _dateStr = getDateStr(date);\n        var titleStr = _dateStr.substr(0, 4) + \"年\" + _dateStr.substr(4, 2) + \"月\";\n        $('.plan-summary .title span').text('' + titleStr);\n        summary();\n    });\n    //添加日程\n    $('.addplan').click(function () {\n        $('.todo .bot').attr('id', 0);\n        $('.todoBox').show();\n    });\n    $('.todo_close').click(function () {\n        $('.todoBox').hide();\n        return false;\n    });\n    $('.todo .bot').click(function () {\n        $('.todoBox').hide();\n        var id = $(this).attr('id');\n        var date = $('.day ul li.clicked').attr('data');\n        var title = $('input[name=\"todoTitle\"]').val(),\n            cont = $('textarea[name=\"todoContent\"]').val();\n        if (title && cont) {\n            $.ajax({\n                url: '/api/saveTodo',\n                type: 'post',\n                data: {\n                    todo_title: title,\n                    todo_content: cont,\n                    todo_date: date,\n                    todo_id: id\n                },\n                success: function success(mess) {\n                    if (mess && mess.code == 0) {\n                        pop('日程添加成功');\n                        $('.todo input').val('');\n                        $('.todo textarea').val('');\n                        getplan(date);\n                    }\n                }\n            });\n        }\n    });\n    $('.program').click(function (e) {\n        var ei = $(e.target),\n            id = ei.parent().attr('id'),\n            s = ei.parent().data('status');\n        // console.log(id,s,ei.attr('id'))\n        if (s == 0 && ei.attr('id') == 2) {\n            $.post('/api/saveTodo', { todo_id: id, status: 1 }, function (mess) {\n                if (mess && mess.code === 0) {\n                    $(ei.closest('li').find('input')).prop('checked', true);\n                    ei.parent().data('status', 1);\n                }\n            });\n        } else if (s == 1 && ei.attr('id') == 1) {\n            $.post('/api/saveTodo', { todo_id: id, status: 0 }, function (mess) {\n                if (mess && mess.code === 0) {\n                    $(ei.closest('li').find('input')).prop('checked', false);\n                    ei.parent().data('status', 0);\n                }\n            });\n        } else if (ei.attr('id') == 3) {\n            var t = ei.data('title'),\n                c = ei.data('content');\n            $('.todo input').val(t);\n            $('.todo textarea').val(c);\n            $('.todo .bot').attr('id', id);\n            $('.todoBox').show();\n        }\n    });\n});\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n//设置距离考试时间\n\n\nvar date = new Date(),\n    _year = date.getFullYear(),\n    _month = date.getMonth() + 2,\n    // 月从0开始计数\n_d = date.getDate();\nvar $year = $('#year'),\n    $month = $('#month'),\n    $day = $('#day'),\n    FirstValue = 0,\n    FirstText = \"待定\";\n// 初始化\nvar str = \"<option value=\\\"\" + FirstValue + \"\\\">\" + FirstText + \"</option>\";\n$year.html(\"<option value=\\\"\" + _year + \"\\\">\" + _year + \"</option>\");\n$month.html(\"<option value=\\\"\" + _month + \"\\\">\" + _month + \"</option>\");\n$day.html(\"<option value=\\\"\" + _d + \"\\\">\" + _d + \"</option>\");\n// 获取初始值\nvar inittime = $(\"input[name='exam_date']\").val();\nif (inittime) {\n    var time = inittime.split('-');\n    $year.attr(\"rel\", time[0]);\n    $month.attr(\"rel\", time[1]);\n    $day.attr(\"rel\", time[2]);\n}\n// 年份列表\nvar yearNow = new Date().getFullYear();\nvar yearSel = $year.attr(\"rel\");\nfor (var i = 0; i <= 2; i++) {\n    var k = yearNow + i;\n    if ($year.val() != k) {\n        var sed = yearSel == k ? \"selected\" : \"\";\n        var yearStr = \"<option value=\\\"\" + k + \"\\\" \" + sed + \">\" + k + \"</option>\";\n        $year.append(yearStr);\n    }\n}\n// 月份列表\nvar monthNow = new Date().getMonth() + 1;\nvar monthSel = $month.attr(\"rel\");\nif (parseInt($year.val()) == yearNow) {\n    var m = $month.val();\n    removeEle($month);\n    for (var i = monthNow; i <= 12; i++) {\n        var sed = monthSel == i ? \"selected\" : m == i ? \"selected\" : \"\";\n        var monthStr = \"<option value=\\\"\" + i + \"\\\" \" + sed + \">\" + i + \"</option>\";\n        $month.append(monthStr);\n    }\n} else {\n    var m = $month.val();\n    removeEle($month);\n    for (var i = 1; i <= 12; i++) {\n        if ($month.val() != monthNow) {\n            var sed = monthSel == i ? \"selected\" : m == i ? \"selected\" : \"\";\n            var monthStr = \"<option value=\\\"\" + i + \"\\\" \" + sed + \">\" + i + \"</option>\";\n            $month.append(monthStr);\n        }\n    }\n}\n//日列表\nvar dayNow = new Date().getDate();\nvar daySel = $day.attr('rel');\n\nfunction day() {\n    if ($year.val() == 0 || $month.val() == 0) {\n        // 未选择年份或者月份\n        $day.html(str);\n    } else {\n        // $day.html(str);\n        var year = parseInt($year.val());\n        var month = parseInt($month.val());\n        var dayCount = 0;\n        switch (month) {\n            case 1:\n            case 3:\n            case 5:\n            case 7:\n            case 8:\n            case 10:\n            case 12:\n                dayCount = 31;\n                break;\n            case 4:\n            case 6:\n            case 9:\n            case 11:\n                dayCount = 30;\n                break;\n            case 2:\n                dayCount = 28;\n                if (year % 4 == 0 && year % 100 != 0 || year % 400 == 0) {\n                    dayCount = 29;\n                }\n                break;\n            default:\n                break;\n        }\n        if (parseInt($year.val()) == yearNow && parseInt($month.val()) == monthNow) {\n            var d = $day.val();\n            removeEle($day);\n            for (var i = dayNow; i <= dayCount; i++) {\n                var sed = daySel == i ? \"selected\" : d == i ? \"selected\" : \"\";\n                var dayStr = \"<option value=\\\"\" + i + \"\\\" \" + sed + \">\" + i + \"</option>\";\n                $day.append(dayStr);\n            }\n        } else {\n            var d = $day.val();\n            removeEle($day);\n            for (var i = 1; i <= dayCount; i++) {\n                var sed = daySel == i ? \"selected\" : d == i ? \"selected\" : \"\";\n                var dayStr = \"<option value=\\\"\" + i + \"\\\" \" + sed + \">\" + i + \"</option>\";\n                $day.append(dayStr);\n            }\n        }\n    }\n}\n\n$year.change(function () {\n    removeEle($month);\n    if (parseInt($year.val()) == yearNow) {\n        for (var i = monthNow; i <= 12; i++) {\n            var sed = monthSel == i ? \"selected\" : \"\";\n            var monthStr = \"<option value=\\\"\" + i + \"\\\" \" + sed + \">\" + i + \"</option>\";\n            $month.append(monthStr);\n        }\n    } else {\n        for (var i = 1; i <= 12; i++) {\n            var sed = monthSel == i ? \"selected\" : \"\";\n            var monthStr = \"<option value=\\\"\" + i + \"\\\" \" + sed + \">\" + i + \"</option>\";\n            $month.append(monthStr);\n        }\n    }\n    day();\n});\n$month.change(function () {\n    return day();\n});\nif ($day.attr(\"rel\") != \"\") {\n    day();\n}\n\nfunction removeEle(ele) {\n    ele.find(\"option\").remove();\n    // var optionStar = \"<option value=\" + \"\" + \">\" + \"待定\" + \"</option>\";\n    // ele.append(optionStar);\n}\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// static/js/myPlan.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 416836ea22a71a2be1de","import {pop} from './prompt'\r\nglobal.pop=pop\r\n// 导航\r\nvar timer = null;\r\nvar loginInfo = $('.js-login-info');\r\nvar tipsUser = $('.js-tips-user');\r\nloginInfo.on('mouseenter', function () {\r\n    clearTimeout(timer);\r\n    tipsUser.show();\r\n    $.ajax({\r\n        url: '/api/plan/info',\r\n        data: {},\r\n        success: function(json) {\r\n            if (json && json.plan) {\r\n                var plan = json.plan;\r\n                var today_complete_rate = plan.today_complete_rate;\r\n                $('.circle circle[stroke-dasharray]')\r\n                    .attr('stroke-dasharray', (today_complete_rate * 2) + ' ' + (200 - today_complete_rate * 2));\r\n                $('.circle span').html(today_complete_rate + '%');\r\n            }\r\n        },\r\n    });\r\n});\r\nloginInfo.on('mouseleave', function () {\r\n    timer = setTimeout(function () {\r\n        tipsUser.hide();\r\n    }, 300);\r\n});\r\n\r\ntipsUser.on('mouseenter', function () {\r\n    clearTimeout(timer);\r\n});\r\n\r\ntipsUser.on('mouseleave', function () {\r\n    timer = setTimeout(function () {\r\n        tipsUser.hide();\r\n    }, 300);\r\n});\r\n\r\nvar btnSoso = $('.page-header__search .butn-soso');\r\nbtnSoso.on('click', function() {\r\n    // console.info(\"RUN\");\r\n    var soso = $('.page-header__search input').val();\r\n    if (soso && soso.length > 0) {\r\n        window.open('/search?keywords=' + soso, '_blank');\r\n        $('.page-header__search input').val('')\r\n        // console.info(soso);\r\n    }\r\n});\r\n$(\".page-header__search input\").keyup(()=>{\r\n    $(document).keypress(function(e) {\r\n        // 回车键事件\r\n        if(e.which == 13) {\r\n            var soso = $('.page-header__search input').val();\r\n            if (soso && soso.length > 0) {\r\n                window.open('/search?keywords=' + soso, '_blank');\r\n                // console.info(soso);\r\n            }\r\n        }\r\n    });\r\n});\r\nif(location.hostname=='localhost'){\r\n    $.ajaxSetup({\r\n        beforeSend: function (xhr,settings) {\r\n            xhr.setRequestHeader(\"Authorization\",\"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjU0MDQ0MDQxZDA0M2RjMDgyYWJjNDA4OTg2OTlmZjc5ZjFmNzA0ZDgxNzEwNGYwYjVmYmYzY2ZjZjhmOWM4MTdiMzBhYjRiOWNmMTk3NDUyIn0.eyJhdWQiOiI2IiwianRpIjoiNTQwNDQwNDFkMDQzZGMwODJhYmM0MDg5ODY5OWZmNzlmMWY3MDRkODE3MTA0ZjBiNWZiZjNjZmNmOGY5YzgxN2IzMGFiNGI5Y2YxOTc0NTIiLCJpYXQiOjE1MjA2NzcxMDgsIm5iZiI6MTUyMDY3NzEwOCwiZXhwIjoxNTUyMjEzMTA4LCJzdWIiOiI4Iiwic2NvcGVzIjpbXX0.3irFbm_3KpOt6F4RsqJBsNH6NnvagJqLbRX3gPl_8uCJySMYpBBvDTXtMTmNqxTg02qviGTkw2gQw0e366keWAwP9ShKHfZQlS3uOINUzNBciB5BUFwP7PdFpgyPXVs5aCSU48Bmwb-QAZEv2rrX5CYGF0cxYjvDRjFWrGJwSiED9lxRva78057ioFicMeGsdVZjacqjzHzEi4EQHbaYt3KgT6z3EucFXcxk5ZyB9wlaXtdfrJ1JlPA4rv4bN-m6AYUVXOFy_XKLUU2_13xYIL3a0qVCL6_xMQxIueHvdi-46gwvTIkKfmbJSSpOcfuuUp3SG0i7YA4d5XArXuGRKO4iQ8aFQ0KBh8ot5n5MfdSVK9ZpA5-Ym-5O1NSbcnxDHYWj2XGzwqoSQrLGP9R-ijX0eITN7rcGfnIEgHYTwgIya8O7Rd6qqvQ-QCgX5PuxSSwlvBKpf49ENJxrX_CQY0d8Fh0R6zB5orsEzR6wQhOhzTi0OJuTgRq6V9Qc91PGBZVJKwE3Xxip3Mcf3wxTKEKgAdBb-I5cSbVgeZJN4eIC5ik0ASLrSaroQyMLe9xT7OOCnm1vA-A6iEWJcx7NIzsrfhEtCgSDs11pnQr70ltgLSdYoWi8NwSXpo37EP4io8ozRCC2qnuE3TlfqMzgJ14AlgXmipySWhhVrhuKtzw\");\r\n            settings.url = \"http://wxjy-mingyang.mion.cn\" + settings.url;\r\n        }\r\n    })\r\n}else{\r\n    $.ajaxSetup({\r\n        beforeSend:function (xhr) {\r\n            window.WXJY = WXJY || {};\r\n            if(typeof WXJY.csrfToken !=='undefined'){\r\n                xhr.setRequestHeader(\"X-CSRF-TOKEN\", WXJY.csrfToken);\r\n            }\r\n        },\r\n    })\r\n}\r\n$.ajaxSetup({\r\n    statusCode: {\r\n        200:function (mess) {\r\n          if(!mess.code==0){\r\n              pop(mess.message,'#fa8c16')\r\n          }\r\n        },\r\n        401: function () {\r\n            window.location.href = '/login'\r\n        },\r\n        500: function () {\r\n            pop('网络异常，请稍后再试','red')\r\n        }\r\n    },\r\n    error: function (mess) {\r\n        if (mess.error == 'Unauthenticated.') {\r\n            window.location.href = '/login'\r\n        }\r\n    },\r\n    withCredentials: true\r\n});\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/header.js","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","//提示框动画\r\nfunction pop(txt, color) {\r\n    if(!$('.popprompt')[0]){\r\n        $(`<div class=\"popprompt\">看什么看，做题</div>`).appendTo('body')\r\n    }\r\n    let bg = color ? color : '#00e290'\r\n    $('.popprompt').text('').text(txt).css('background', bg).removeClass('off').addClass('on')\r\n    setTimeout(() => {\r\n        $('.popprompt').removeClass('on').addClass('off')\r\n    }, 2000)\r\n}\r\n\r\nexport {pop}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/prompt.js","import './modules/header';\r\nimport './modules/timeplan';\r\n\r\n$(function () {\r\n    //用于记录日期，显示的时候，根据dateObj中的日期的年月显示\r\n    var dateObj = (function () {\r\n        var _date = new Date();    // 默认为当前系统时间\r\n        return {\r\n            getDate: function () {\r\n                return _date;\r\n            },\r\n            setDate: function (date) {\r\n                _date = date;\r\n            }\r\n        };\r\n    })();\r\n\r\n    //日期转化为字符串， 4位年+2位月+2位日\r\n    function getDateStr(date) {\r\n        var _year = date.getFullYear();\r\n        var _month = date.getMonth() + 1;    // 月从0开始计数\r\n        var _d = date.getDate();\r\n\r\n        _month = (_month > 9) ? (\"\" + _month) : (\"0\" + _month);\r\n        _d = (_d > 9) ? (\"\" + _d) : (\"0\" + _d);\r\n        return _year + _month + _d;\r\n    }\r\n\r\n    //页面加载时获取当天的备考计划\r\n    function todayplan() {\r\n        var date = new Date(),\r\n            _year = date.getFullYear(),\r\n            _month = date.getMonth() + 1,    // 月从0开始计数\r\n            _d = date.getDate();\r\n        var _month = (_month > 9) ? (\"\" + _month) : (\"0\" + _month),\r\n            _d = (_d > 9) ? (\"\" + _d) : (\"0\" + _d),\r\n            w = _year + '-' + _month + '-' + _d;\r\n        getplan(w)\r\n    }\r\n\r\n    todayplan();\r\n\r\n    //获取备考规划\r\n    function getplan(w) {\r\n        // console.log(w)\r\n        $.ajax({\r\n            url: '/api/plan/info',\r\n            data: `planDate=${w}`,\r\n            success: function (mess) {\r\n                $('.detailplan,.recite,.program').html('');\r\n                let userLevel = mess.user.current_level;\r\n                if (mess.planTodos.length >= 1) {\r\n                    let lis = '', todo = mess.planTodos;\r\n                    $.each(todo, (i, v) => {\r\n                        lis += `<div class=\"column-title\">\r\n                                        <div class=\"title\">${v.todo_title}</div>\r\n                                    </div>\r\n                                    <div class=\"column-bd\">\r\n                                        <ul class=\"list\">\r\n                                            <li class=\"item\">\r\n                                                <div class=\"situation\">\r\n                                                    <input type=\"checkbox\" disabled ${v.status == 1 ? \"checked\" : \"\"}>\r\n                                                    <span class=\"row row-1\" style=\"width: 410px;display: inline-block;margin-bottom: -2px\">${v.todo_content}</span>\r\n                                                </div>\r\n                                                <div class=\"btns\" id=${v.id} data-status=${v.status}>\r\n                                                    <a href=\"javaScript:;\" class=\"btn-go do\" id=\"3\" data-title=${v.todo_title} data-content=${v.todo_content}>查看编辑</a>\r\n                                                    <a href=\"javaScript:;\" class=\"btn-go do\" id=\"2\">完成</a>\r\n                                                    <a href=\"javaScript:;\" class=\"btn-cancle\" id=\"1\">未完成</a>\r\n                                                </div>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>`\r\n                    });\r\n                    $(`<div class=\"plan-column\">\r\n                            <div class=\"column-hd\">\r\n                                <h3 class=\"title\">日程</h3>\r\n                            </div>\r\n                            <ul class=\"colunmdetail\">\r\n                                ${lis}\r\n                            </ul>\r\n                        </div>`).appendTo('.program')\r\n                }\r\n                if (mess && mess.plan) {\r\n                    if (mess.plan.external_words.length >= 1) {\r\n                        let word = mess.plan.external_words;\r\n                        let lis = '';\r\n                        $.each(word, (i, v) => {\r\n                            lis += `<li class=\"item\">\r\n                                <div class=\"situation\">\r\n                                    <input type=\"checkbox\" disabled ${v.status == 2 ? \"checked\" : \"\"}>\r\n                                    <span class=\"row row-1\">${v.plan_word}</span>\r\n                                </div>\r\n                                <div class=\"btns\" id=${v.id} data-status=${v.status}>\r\n                                    <a href=\"javaScript:;\" class=\"btn-go do\" id=\"2\">完成</a>\r\n                                    <a href=\"javaScript:;\" class=\"btn-cancle\" id=\"1\">未完成</a>\r\n                                </div>\r\n                           </li>`\r\n                        });\r\n                        $(`<div class=\"plan-column\">\r\n                                <div class=\"column-hd\">\r\n                                    <h3 class=\"title\">背诵</h3>\r\n                                </div>\r\n                                <div class=\"colunmdetail\">\r\n                                    <div class=\"column-title\">\r\n                                        <div class=\"title\">外部词汇</div>\r\n                                    </div>\r\n                                    <div class=\"column-bd\">\r\n                                        <ul class=\"list\">${lis}</ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>`).appendTo('.recite')\r\n                    }\r\n                    if (!$.isEmptyObject(mess.plan.testVolumeGroups)) {\r\n                        let data = mess.plan.testVolumeGroups;\r\n                        $.each(data, (key, value) => {\r\n                            // console.log(key, value)\r\n                            var planColumn = $(`<div class=\"plan-column\">\r\n                                            <div class=\"column-hd\">\r\n                                                <h3 class=\"title\">${key}</h3>\r\n                                            </div>\r\n                                       </div>`).appendTo('.detailplan')\r\n                            $.each(value, (k, v) => {\r\n                                var planul = $(`<div class=\"colunmdetail\">\r\n                                                    <div class=\"column-title\">\r\n                                                        <div class=\"title\">${k}</div>\r\n                                                        <div class=\"done-progress\">\r\n                                                            <span class=\"txt\">完成</span>\r\n                                                            <span class=\"done-range\">\r\n                                                                <span class=\"cur\" style=\"width: ${v.testBookPercentage}%;\"></span>\r\n                                                            </span>\r\n                                                            <span class=\"num\">${v.testBookPercentage}%</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                 </div>`).appendTo(planColumn)\r\n                                // console.log(k, v)\r\n                                let lis = ''\r\n                                $.each(v.datas, (i, t) => {\r\n                                    let time = t.time_count == 0 ? '0s' :\r\n                                        parseInt(t.time_count / 60) == 0 ? `${t.time_count}s` :\r\n                                            `${parseInt(t.time_count / 60)}min${t.time_count % 60}s`;\r\n                                    lis += `<li class=\"item\">\r\n                                                <div class=\"situation\">\r\n                                                    <input type=\"checkbox\" disabled ${t.done_num == t.total_num ? \"checked\" : \"\"}>\r\n                                                    <span class=\"row row-1\">${t.test_volume_name}</span>\r\n                                                    <span class=\"row row-2\">已做题 ${t.done_num}/${t.total_num}</span>\r\n                                                    <span class=\"row row-3\">总耗时 ${time}</span>\r\n                                                    <span class=\"row row-4\">正确率 ${t.correct_rate}%</span>\r\n                                                </div>\r\n                                                <div class=\"btns\">\r\n                                                    <a href=\"javascript:;\" class=\"btn-go do\" data-date=${mess.planDate} data-id=${t.id}>做题</a>\r\n                                                    <a href=${t.test_view_url} class=\"btn-cancle see\">查看</a>\r\n                                                    ${t.test_video_url ?\r\n                                        `${userLevel < t.resource_video.level ?\r\n                                            `<span class=\"btn-cancle noLev\" onclick=\" $('.applyBox').show()\">视频</span>` :\r\n                                            `<a href=${t.test_video_url} class=\"btn-cancle video\">视频</a>`}` :\r\n                                        `<span class=\"btn-cancle noRes\">视频</span>`}\r\n                                                                    ${t.test_download_url ?\r\n                                        `${userLevel < t.resource_document.level ?\r\n                                            `<span class=\"btn-cancle noLev\" onclick=\" $('.applyBox').show()\">下载</span>` :\r\n                                            `<a href=${t.test_download_url} class=\"btn-cancle download\">下载</a>`}` :\r\n                                        `<span class=\"btn-cancle noRes\">下载</span>`}\r\n                                                                </div>\r\n                                                            </li>`\r\n                                });\r\n                                $(`<div class=\"column-bd\">\r\n                                        <ul class=\"list\">\r\n                                            ${lis}\r\n                                        </ul>\r\n                                    </div>`).appendTo(planul)\r\n                            })\r\n                        })\r\n                    }\r\n                    let rate = mess.plan.today_complete_rate;\r\n                    $('.day-plan circle:nth-of-type(2)').attr('stroke-dasharray', `${rate * 2} ${200 - rate * 2}`)\r\n                    $('.day-plan span').text(`${rate}%`)\r\n                }\r\n            },\r\n            error: function () {\r\n                $('.detailplan,.recite').html('')\r\n            }\r\n        })\r\n    }\r\n\r\n    //重做选择弹窗显示\r\n    $('.detailplan').on('click', '.do', function () {\r\n        let planDate = $(this).data('date'), id = $(this).data('id'), flag = true;\r\n        $.ajax({\r\n            async: false,\r\n            type: 'post',\r\n            url: '/api/volume/needConfirm',\r\n            data: {plan_date: planDate, test_volume_id: id},\r\n            success: function (mess) {\r\n                if (mess && mess.code === 0) {\r\n                    if (mess.data.needConfirm) {\r\n                        $('.reorco .btn-go').attr('href', \"/exam/test/\" + id + \"?restart=0\");\r\n                        $('.reorco .btn-re').attr('href', \"/exam/test/\" + id + \"?restart=1\");\r\n                        $('.reorco').show()\r\n                        flag = true\r\n                    } else {\r\n                        flag = false\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        flag ? `` : window.open(\"/exam/test/\" + id + \"?restart=0\")\r\n        // }) === false ? window.open(\"/exam/test/\" + id + \"?restart=0\") : console.log(flag)\r\n    });\r\n\r\n    function re() {\r\n\r\n    }\r\n\r\n    $('.reorco a').click(function (e) {\r\n        e.stopPropagation();\r\n        $('.reorco').hide()\r\n    })\r\n    //发送背诵完成状态\r\n    $('.recite').click(function (e) {\r\n        let ei = $(e.target), id = ei.parent().attr('id'), s = ei.parent().data('status');\r\n        if (s == 1 && ei.attr('id') == 2) {\r\n            $(ei.closest('li').find('input')).prop('checked', true);\r\n            word(id, 2)\r\n            ei.parent().data('status', 2)\r\n        } else if (s == 2 && ei.attr('id') == 1) {\r\n            $(ei.closest('li').find('input')).prop('checked', false);\r\n            word(id, 1)\r\n            ei.parent().data('status', 1)\r\n        }\r\n    });\r\n\r\n    function word(id, sta) {\r\n        $.ajax({\r\n            url: '/api/plan/word/changeStatus',\r\n            type: 'post',\r\n            data: {plan_word_id: id, status: sta}\r\n        })\r\n    }\r\n\r\n    // 表格中显示日期\r\n    showCalendarData();\r\n\r\n    function showCalendarData() {\r\n        var date = dateObj.getDate();\r\n        var _year = date.getFullYear();\r\n        var _month = date.getMonth() + 1;\r\n        var _dateStr = getDateStr(date);\r\n        // 设置顶部标题栏中的 年、月信息\r\n        var titleStr = _dateStr.substr(0, 4) + \"年\" + _dateStr.substr(4, 2) + \"月\";\r\n        $('.month').text(`${titleStr}`);\r\n        $('.year-month span').text(`${titleStr}`);\r\n        $('.plan-summary .title span').text(`${titleStr}`);\r\n        var _firstDay = new Date(_year, _month - 1, 1);  // 当前月第一天\r\n        // 设置时间轴中的日期数据\r\n        $(\".day ul li\").each((i, v) => {\r\n            $(v).removeClass('today');\r\n            let dayweek = date.getDay() == 0 ? 7 : date.getDay();\r\n            var _thisDay = new Date(_year, _month - 1, date.getDate() + i + 1 - dayweek);\r\n            var _thisDayStr = getDateStr(_thisDay);\r\n            var w = _thisDayStr.substring(0, 4) + '-' + _thisDayStr.substring(4, 6) + '-' + _thisDayStr.substring(6, 8)\r\n            $(v).attr('data', w);\r\n            $(v).text(_thisDay.getDate());\r\n            if (_thisDayStr == getDateStr(new Date())) {\r\n                $(v).addClass('today clicked');\r\n                $('.week li').eq(i).addClass('clicked')\r\n            } else if (_thisDayStr.substr(0, 6) == getDateStr(_firstDay).substr(0, 6)) {\r\n                $(v).removeClass('otherMonth');\r\n                $(v).addClass('currentMonth')\r\n            } else {\r\n                $(v).removeClass('currentMonth');\r\n                $(v).addClass('otherMonth')\r\n            }\r\n        });\r\n        //设置月视图中日期数据\r\n        $('.month_schedule td').each((i, v) => {\r\n            $(v).removeClass('today')\r\n            let dayweek = _firstDay.getDay() == 0 ? 7 : _firstDay.getDay()\r\n            var _thisDay = new Date(_year, _month - 1, i + 2 - dayweek);\r\n            var _thisDayStr = getDateStr(_thisDay);\r\n            var w = _thisDayStr.substring(0, 4) + '-' + _thisDayStr.substring(4, 6) + '-' + _thisDayStr.substring(6, 8)\r\n            $(v).attr('data', w);\r\n            $(v).children('b').text(_thisDay.getDate());\r\n            if (_thisDayStr == getDateStr(new Date())) {    // 当前天\r\n                $(v).addClass('today')\r\n            } else if (_thisDayStr.substr(0, 6) == getDateStr(_firstDay).substr(0, 6)) {\r\n                $(v).removeClass('otherMonth');\r\n                $(v).addClass('currentMonth')  // 当前月\r\n            } else {    // 其他月\r\n                $(v).removeClass('currentMonth');\r\n                $(v).addClass('otherMonth')\r\n            }\r\n        })\r\n    }\r\n\r\n    $('.thistoday').click(() => {\r\n        dateObj.setDate(new Date());\r\n        $('.clicked').removeClass('clicked');\r\n        showCalendarData();\r\n        todayplan()\r\n    });\r\n    //时间轴时间选择\r\n    $('.week li').click(function () {\r\n        $(this).addClass('clicked').siblings().removeClass(\"clicked\");\r\n        let index = $(this).index();\r\n        $('.day ul li').eq(index).addClass('clicked').siblings().removeClass(\"clicked\");\r\n        let w = $(this).attr('data');\r\n        getplan(w)\r\n    });\r\n    $('.day ul li').click(function () {\r\n        $(this).addClass('clicked').siblings().removeClass(\"clicked\");\r\n        let index = $(this).index();\r\n        $('.week li').eq(index).addClass('clicked').siblings().removeClass(\"clicked\");\r\n        let w = $(this).attr('data');\r\n        getplan(w)\r\n    });\r\n    //上一个星期，下一个星期时间\r\n    $('.prev').click(() => {\r\n        let date = dateObj.getDate();\r\n        dateObj.setDate(new Date(date.getFullYear(), date.getMonth(), date.getDate() - 7));\r\n        showCalendarData();\r\n        clickplan()\r\n    });\r\n    $('.next').click(() => {\r\n        let date = dateObj.getDate();\r\n        dateObj.setDate(new Date(date.getFullYear(), date.getMonth(), date.getDate() + 7));\r\n        showCalendarData();\r\n        clickplan()\r\n    });\r\n\r\n    //改变日期，获取选中日期的规划\r\n    function clickplan() {\r\n        let w = $('.day ul li.clicked').attr('data');\r\n        getplan(w)\r\n    }\r\n\r\n    //上个月，下个月时间\r\n    $('.mprev').click(() => {\r\n        $('.plan').remove();\r\n        let date = dateObj.getDate();\r\n        dateObj.setDate(new Date(date.getFullYear(), date.getMonth() - 1, 1));\r\n        showCalendarData();\r\n        getmonthplan()\r\n    });\r\n    $('.mnext').click(() => {\r\n        $('.plan').remove();\r\n        let date = dateObj.getDate();\r\n        dateObj.setDate(new Date(date.getFullYear(), date.getMonth() + 1, 1));\r\n        showCalendarData();\r\n        getmonthplan()\r\n    });\r\n\r\n\r\n    //月视图展示\r\n    $('.thismon').click(() => {\r\n        $('.plan').remove();\r\n        getmonthplan();\r\n        $('.month_scheduleBox').show()\r\n    });\r\n\r\n    $('.thisweek').click(() => {\r\n        $('.month_scheduleBox').hide()\r\n    });\r\n\r\n    $('.month_schedule').on('click', '.plan', function () {\r\n        // console.log($(this))\r\n        let par = $(this).parent();\r\n        let date = par.attr('data');\r\n        let left = par.position().left;\r\n        let top = par.position().top;\r\n        // console.log(left,top)\r\n        // console.log($(this).parent())\r\n        $('.planshow').removeClass('l r t b').hide();\r\n        if (left < 500 && top < 400) {\r\n            par.find('.planshow').addClass('l t')\r\n        } else if (left > 500 && top < 400) {\r\n            par.find('.planshow').addClass('r t')\r\n        } else if (left < 500 && top > 400) {\r\n            par.find('.planshow').addClass('l b')\r\n        } else if (left > 500 && top > 400) {\r\n            par.find('.planshow').addClass('r b')\r\n        }\r\n        // console.log(date)\r\n        $.ajax({\r\n            url: '/api/plan/info',\r\n            data: `planDate=${date}`,\r\n            success: function (mess) {\r\n                $('.planshow').html('');\r\n                if (mess && mess.plan) {\r\n                    let rate = mess.plan.today_complete_rate;\r\n                    $(`<div class=\"top\">\r\n                            <h3>${mess.plan.plan_date}</h3>\r\n                            <a class=\"close\">×</a>\r\n                            </div>\r\n                        <div class=\"dayprogress\">\r\n                            <div class=\"done-circle\">\r\n                                <svg width=\"112\" height=\"112\" viewbox=\"0 0 112 112\">\r\n                                    <circle cx=\"56\" cy=\"56\" r=\"48\" stroke-width=\"10\" stroke=\"#ffde00\" fill=\"none\"></circle>\r\n                                    <circle cx=\"56\" cy=\"56\" r=\"48\" stroke-width=\"10\" stroke=\"#00e290\" fill=\"none\"\r\n                                            transform=\"matrix(0,-1,1,0,0,112)\" stroke-dasharray=\"${rate / 100 * 300} ${300 - rate / 100 * 300}\"></circle>\r\n                                </svg>\r\n                                <span class=\"inner\">${rate}%</span>\r\n                            </div>\r\n                            <p>当日计划完成</p>\r\n                        </div>\r\n                        <ul class=\"mon-day-plan\"></ul>`).appendTo('.planshow')\r\n                    if (mess.plan.external_words.length >= 1) {\r\n                        let word = mess.plan.external_words;\r\n                        let aa = $(`<li>\r\n                                    <h3 class=\"title\">背诵</h3>\r\n                                    <h3 class=\"subtitle\">外部词汇</h3>\r\n                                   </li>`).appendTo($('.mon-day-plan'));\r\n                        let lis = '';\r\n                        $.each(word, (i, v) => {\r\n                            lis += `<li>\r\n                                    <span>${v.plan_word}</span>\r\n                                    <span>${v.status == 1 ? '未完成' : '已完成'}</span>\r\n                                  </li>`\r\n                        })\r\n                        $(`<ul class=\"dayplan\">${lis}</ul>`).appendTo(aa)\r\n                    }\r\n                    if (!$.isEmptyObject(mess.plan.testVolumeGroups)) {\r\n                        let data = mess.plan.testVolumeGroups;\r\n                        $.each(data, (key, value) => {\r\n                            let bb = $(`<li>\r\n                                            <h3 class=\"title\">${key}</h3>\r\n                                        </li>`).appendTo($('.mon-day-plan'))\r\n                            $.each(value, (k, v) => {\r\n                                $(`<h3 class=\"subtitle\">${k}</h3>`).appendTo(bb)\r\n                                let lis = ''\r\n                                $.each(v.datas, (i, t) => {\r\n                                    lis += `<li>\r\n                                        <span>${t.test_volume_name}</span>\r\n                                        <span>已做题&nbsp;${t.done_num}/${t.total_num}</span>\r\n                                  </li>`\r\n                                });\r\n                                $(`<ul class=\"dayplan\">${lis}</ul>`).appendTo(bb)\r\n                            })\r\n                        });\r\n\r\n                    }\r\n                    $(`<div class=\"toDetailPlan\" data=\"${mess.plan.plan_date}\">查看当日规划</div>`).appendTo($('.planshow'))\r\n                }\r\n            }\r\n        });\r\n        par.find('.planshow').show()\r\n    });\r\n\r\n    $('.month_schedule').on('click', '.planshow .close', () => {\r\n        $('.planshow').hide();\r\n        return false\r\n    });\r\n\r\n    //月视图查看当日备考规划\r\n    $('.month_schedule').on('click', '.planshow .toDetailPlan', () => {\r\n        $('.planshow').hide();\r\n        $('.month_scheduleBox').hide();\r\n        let w = $('.toDetailPlan').attr('data');\r\n        getplan(w);\r\n        let e = w.split('-');\r\n        dateObj.setDate(new Date(e[0], parseInt(e[1]) - 1, parseInt(e[2])));\r\n        showCalendarData()\r\n        $('.clicked').removeClass('clicked');\r\n        $.each($('.day ul li'), (i, v) => {\r\n            if ($(v).attr('data') == w) {\r\n                // console.log(w)\r\n                $(v).addClass('clicked');\r\n                $('.week li').eq(i).addClass('clicked')\r\n            }\r\n        });\r\n        return false\r\n    });\r\n\r\n    //获取月规划\r\n    function getmonthplan() {\r\n        $('.plan').remove()\r\n        $.ajax({\r\n            url: '/api/plan/monthView',\r\n            data: {startDate: $('#monthfirst').attr('data'), endDate: $('#monthlast').attr('data')},\r\n            // data: {startDate: '2018-01-01', endDate: '2018-01-31'},\r\n            success: function (r) {\r\n                // console.log(r)\r\n                // console.log(r.code==0)\r\n                // console.log(r.data.plan.length!=0)\r\n                if (r.code == 0 && r.data) {\r\n                    if (r.data.plan.length >= 1) {\r\n                        let plan = r.data.plan\r\n                        // console.log(plan)\r\n                        $.each(plan, (i, v) => {\r\n                            // console.log(v)\r\n                            let date = v.plan_date\r\n                            let title = v.testVolumes\r\n                            // console.log(date,title)\r\n                            $('.month_schedule td').each((i, k) => {\r\n                                if ($(k).attr('data') == date && title.length != 0) {\r\n                                    $(`<div class=\"plan\">\r\n                                        <p>${title[0].test_volume_name}</p>\r\n                                        <div class=\"planshow\"></div>\r\n                                   </div>`).appendTo($(k))\r\n                                }\r\n                            })\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    //距离考试时间设置\r\n    $(document).click(function (e) {\r\n        if (e.target == $('.scheduleBox').get(0)) {\r\n            $('.scheduleBox').hide()\r\n        } else if (e.target == $('.month_scheduleBox').get(0)) {\r\n            $('.month_scheduleBox').hide()\r\n        } else if (e.target == $('.todoBox').get(0)) {\r\n            $('.todoBox').hide()\r\n        }\r\n    });\r\n    $('.day-distance').click(() => {\r\n        $('.scheduleBox').show()\r\n    });\r\n    $('.schedule_close').click(() => {\r\n        $('.scheduleBox').hide()\r\n    });\r\n    $('.schedule .bot').click(function () {\r\n        if ($('#year').val() != '0' && $('#month').val() != '0' && $('#day').val() != '0') {\r\n            let month = $('#month').val() > 9 ? $('#month').val() : '0' + $('#month').val()\r\n            let day = $('#day').val() > 9 ? $('#day').val() : '0' + $('#day').val()\r\n            let time = $('#year').val() + '-' + month + '-' + day\r\n            $.ajax({\r\n                url: '/api/plan/changeDate',\r\n                type: 'post',\r\n                data: {exam_date: time},\r\n                success: function (mess) {\r\n                    // console.log(mess)\r\n                    if (mess.code == 0) {\r\n                        pop('时间设置成功')\r\n                        let data = mess.data.diffDate\r\n                        $('#lastday').text(data.day)\r\n                        $('#lasthour').text(data.hour)\r\n                        $('#lastmin').text(data.minute)\r\n                        $('input[name=exam_date]').val(time)\r\n                        $('.scheduleBox').hide()\r\n                    } else if (mess.code == 1) {\r\n                        // console.log(mess.message)\r\n                    }\r\n                },\r\n                error: function (mess) {\r\n                    // console.log(mess)\r\n                }\r\n            })\r\n        } else {\r\n            pop('请设置正确的时间', 'red')\r\n        }\r\n    });\r\n\r\n    //月度做题学习总结\r\n    summary();\r\n\r\n    function summary() {\r\n        let s = $('.plan-summary .title span').text()\r\n        // console.log(s.substring(0,4)+'-'+s.substring(5,7)+'-01')\r\n        let month = s.substring(0, 4) + '-' + s.substring(5, 7) + '-01'\r\n        $.ajax({\r\n            url: '/api/plan/summary',\r\n            data: {planMonth: month},\r\n            success: function (mess) {\r\n                if (mess && mess.data) {\r\n                    if (mess.data.summary && mess.data.totalProgress) {\r\n                        $('.lf-bd').html('');\r\n                        let lis = '';\r\n                        let data = mess.data.summary;\r\n                        let rate = mess.data.totalProgress;\r\n                        $('.rg-precent').attr('stroke-dasharray', `${rate * 4} ${400 - rate * 4}`)\r\n                        $('.rg .inner').text(`${rate}%`)\r\n                        $.each(data, (i, v) => {\r\n                            lis += `<li class=\"done-progress\">\r\n                                    <span class=\"txt\">${v.subject_name}</span>\r\n                                    <span class=\"done-range\">\r\n                                        <span class=\"cur\" style=\"width: ${v.total_percent}%;\"></span>\r\n                                    </span>\r\n                                    <span class=\"num\">${v.done_total_num}/${v.total_num}</span>\r\n                                </li>`\r\n                        });\r\n                        $(lis).appendTo('.lf-bd')\r\n                    } else {\r\n                        $('.lf-bd').html('');\r\n                        let lis = `<li class=\"done-progress\">\r\n                                        <span class=\"txt\">词汇</span>\r\n                                        <span class=\"done-range\">\r\n                                            <span class=\"cur\" style=\"width: 0%;\"></span>\r\n                                        </span>\r\n                                        <span class=\"num\">0/0</span>\r\n                                    </li>\r\n                                    <li class=\"done-progress\">\r\n                                        <span class=\"txt\">填空</span>\r\n                                        <span class=\"done-range\">\r\n                                            <span class=\"cur\" style=\"width: 0%;\"></span>\r\n                                        </span>\r\n                                        <span class=\"num\">0/0</span>\r\n                                    </li>\r\n                                    <li class=\"done-progress\">\r\n                                        <span class=\"txt\">阅读</span>\r\n                                        <span class=\"done-range\">\r\n                                            <span class=\"cur\" style=\"width: 0%;\"></span>\r\n                                        </span>\r\n                                        <span class=\"num\">0/0</span>\r\n                                    </li>\r\n                                    <li class=\"done-progress\">\r\n                                        <span class=\"txt\">数学</span>\r\n                                        <span class=\"done-range\">\r\n                                            <span class=\"cur\" style=\"width: 0%;\"></span>\r\n                                        </span>\r\n                                        <span class=\"num\">0/0</span>\r\n                                    </li>\r\n                                    <li class=\"done-progress\">\r\n                                        <span class=\"txt\">作文</span>\r\n                                        <span class=\"done-range\">\r\n                                            <span class=\"cur\" style=\"width: 0%;\"></span>\r\n                                        </span>\r\n                                        <span class=\"num\">0/0</span>\r\n                                    </li>`;\r\n                        $(lis).appendTo('.lf-bd');\r\n                        $('.rg-precent').attr('stroke-dasharray', `0 400`);\r\n                        $('.rg .inner').text(`0%`)\r\n                    }\r\n                }\r\n            },\r\n            error: function () {\r\n            }\r\n        })\r\n    }\r\n\r\n    $('.btn-prev').click(() => {\r\n        let date = dateObj.getDate()\r\n        dateObj.setDate(new Date(date.getFullYear(), date.getMonth() - 1, 1));\r\n        var _dateStr = getDateStr(date);\r\n        var titleStr = _dateStr.substr(0, 4) + \"年\" + _dateStr.substr(4, 2) + \"月\";\r\n        $('.plan-summary .title span').text(`${titleStr}`);\r\n        summary()\r\n    });\r\n    $('.btn-next').click(() => {\r\n        let date = dateObj.getDate()\r\n        dateObj.setDate(new Date(date.getFullYear(), date.getMonth() + 1, 1));\r\n        var _dateStr = getDateStr(date);\r\n        var titleStr = _dateStr.substr(0, 4) + \"年\" + _dateStr.substr(4, 2) + \"月\";\r\n        $('.plan-summary .title span').text(`${titleStr}`)\r\n        summary()\r\n    });\r\n    //添加日程\r\n    $('.addplan').click(() => {\r\n        $('.todo .bot').attr('id', 0);\r\n        $('.todoBox').show()\r\n    });\r\n    $('.todo_close').click(() => {\r\n        $('.todoBox').hide();\r\n        return false\r\n    });\r\n    $('.todo .bot').click(function () {\r\n        $('.todoBox').hide();\r\n        let id = $(this).attr('id');\r\n        let date = $('.day ul li.clicked').attr('data');\r\n        let title = $('input[name=\"todoTitle\"]').val(), cont = $('textarea[name=\"todoContent\"]').val();\r\n        if (title && cont) {\r\n            $.ajax({\r\n                url: '/api/saveTodo',\r\n                type: 'post',\r\n                data: {\r\n                    todo_title: title,\r\n                    todo_content: cont,\r\n                    todo_date: date,\r\n                    todo_id: id\r\n                },\r\n                success: function (mess) {\r\n                    if (mess && mess.code == 0) {\r\n                        pop('日程添加成功');\r\n                        $('.todo input').val('');\r\n                        $('.todo textarea').val('');\r\n                        getplan(date)\r\n                    }\r\n                },\r\n            })\r\n        }\r\n    });\r\n    $('.program').click(function (e) {\r\n        let ei = $(e.target), id = ei.parent().attr('id'), s = ei.parent().data('status');\r\n        // console.log(id,s,ei.attr('id'))\r\n        if (s == 0 && ei.attr('id') == 2) {\r\n            $.post('/api/saveTodo', {todo_id: id, status: 1}, function (mess) {\r\n                if (mess && mess.code === 0) {\r\n                    $(ei.closest('li').find('input')).prop('checked', true);\r\n                    ei.parent().data('status', 1)\r\n                }\r\n            })\r\n        } else if (s == 1 && ei.attr('id') == 1) {\r\n            $.post('/api/saveTodo', {todo_id: id, status: 0}, function (mess) {\r\n                if (mess && mess.code === 0) {\r\n                    $(ei.closest('li').find('input')).prop('checked', false);\r\n                    ei.parent().data('status', 0)\r\n                }\r\n            })\r\n        } else if (ei.attr('id') == 3) {\r\n            let t = ei.data('title'), c = ei.data('content');\r\n            $('.todo input').val(t);\r\n            $('.todo textarea').val(c);\r\n            $('.todo .bot').attr('id', id)\r\n            $('.todoBox').show()\r\n        }\r\n    })\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/js/myPlan.js","//设置距离考试时间\r\nvar date = new Date(),\r\n    _year = date.getFullYear(),\r\n    _month = date.getMonth() + 2,    // 月从0开始计数\r\n    _d = date.getDate();\r\nvar $year = $('#year'), $month = $('#month'), $day = $('#day'), FirstValue = 0, FirstText = \"待定\";\r\n// 初始化\r\nvar str = \"<option value=\\\"\" + FirstValue + \"\\\">\" + FirstText + \"</option>\";\r\n$year.html(\"<option value=\\\"\" + _year + \"\\\">\" + _year + \"</option>\");\r\n$month.html(\"<option value=\\\"\" + _month + \"\\\">\" + _month + \"</option>\");\r\n$day.html(\"<option value=\\\"\" + _d + \"\\\">\" + _d + \"</option>\");\r\n// 获取初始值\r\nvar inittime = $(\"input[name='exam_date']\").val()\r\nif (inittime) {\r\n    let time = inittime.split('-')\r\n    $year.attr(\"rel\", time[0])\r\n    $month.attr(\"rel\", time[1])\r\n    $day.attr(\"rel\", time[2])\r\n}\r\n// 年份列表\r\nvar yearNow = new Date().getFullYear();\r\nvar yearSel = $year.attr(\"rel\");\r\nfor (var i = 0; i <= 2; i++) {\r\n    var k = yearNow + i\r\n    if ($year.val() != k) {\r\n        var sed = yearSel == k ? \"selected\" : \"\";\r\n        var yearStr = \"<option value=\\\"\" + k + \"\\\" \" + sed + \">\" + k + \"</option>\";\r\n        $year.append(yearStr);\r\n    }\r\n}\r\n// 月份列表\r\nvar monthNow = new Date().getMonth() + 1\r\nvar monthSel = $month.attr(\"rel\");\r\nif (parseInt($year.val()) == yearNow) {\r\n    let m = $month.val()\r\n    removeEle($month)\r\n    for (var i = monthNow; i <= 12; i++) {\r\n        var sed = monthSel == i ? \"selected\" : m == i ? \"selected\" : \"\";\r\n        var monthStr = \"<option value=\\\"\" + i + \"\\\" \" + sed + \">\" + i + \"</option>\";\r\n        $month.append(monthStr);\r\n    }\r\n} else {\r\n    let m = $month.val()\r\n    removeEle($month)\r\n    for (var i = 1; i <= 12; i++) {\r\n        if ($month.val() != monthNow) {\r\n            var sed = monthSel == i ? \"selected\" : m == i ? \"selected\" : \"\";\r\n            var monthStr = \"<option value=\\\"\" + i + \"\\\" \" + sed + \">\" + i + \"</option>\";\r\n            $month.append(monthStr);\r\n        }\r\n    }\r\n}\r\n//日列表\r\nvar dayNow = new Date().getDate()\r\nvar daySel = $day.attr('rel')\r\n\r\nfunction day() {\r\n    if ($year.val() == 0 || $month.val() == 0) {\r\n        // 未选择年份或者月份\r\n        $day.html(str);\r\n    } else {\r\n        // $day.html(str);\r\n        var year = parseInt($year.val());\r\n        var month = parseInt($month.val());\r\n        var dayCount = 0;\r\n        switch (month) {\r\n            case 1:\r\n            case 3:\r\n            case 5:\r\n            case 7:\r\n            case 8:\r\n            case 10:\r\n            case 12:\r\n                dayCount = 31;\r\n                break;\r\n            case 4:\r\n            case 6:\r\n            case 9:\r\n            case 11:\r\n                dayCount = 30;\r\n                break;\r\n            case 2:\r\n                dayCount = 28;\r\n                if ((year % 4 == 0) && (year % 100 != 0) || (year % 400 == 0)) {\r\n                    dayCount = 29;\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        if (parseInt($year.val()) == yearNow && parseInt($month.val()) == monthNow) {\r\n            let d=$day.val()\r\n            removeEle($day)\r\n            for (var i = dayNow; i <= dayCount; i++) {\r\n                var sed = daySel == i ? \"selected\" : d==i?\"selected\":\"\";\r\n                var dayStr = \"<option value=\\\"\" + i + \"\\\" \" + sed + \">\" + i + \"</option>\";\r\n                $day.append(dayStr);\r\n\r\n            }\r\n        } else {\r\n            let d=$day.val()\r\n            removeEle($day)\r\n            for (var i = 1; i <= dayCount; i++) {\r\n                var sed = daySel == i ? \"selected\" : d==i?\"selected\":\"\";\r\n                var dayStr = \"<option value=\\\"\" + i + \"\\\" \" + sed + \">\" + i + \"</option>\";\r\n                $day.append(dayStr);\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n$year.change(() => {\r\n        removeEle($month)\r\n        if (parseInt($year.val()) == yearNow) {\r\n            for (var i = monthNow; i <= 12; i++) {\r\n                var sed = monthSel == i ? \"selected\" : \"\";\r\n                var monthStr = \"<option value=\\\"\" + i + \"\\\" \" + sed + \">\" + i + \"</option>\";\r\n                $month.append(monthStr);\r\n            }\r\n        } else {\r\n            for (var i = 1; i <= 12; i++) {\r\n                var sed = monthSel == i ? \"selected\" : \"\";\r\n                var monthStr = \"<option value=\\\"\" + i + \"\\\" \" + sed + \">\" + i + \"</option>\";\r\n                $month.append(monthStr);\r\n            }\r\n        }\r\n        day()\r\n    }\r\n)\r\n$month.change(() => day())\r\nif ($day.attr(\"rel\") != \"\") {\r\n    day();\r\n}\r\n\r\nfunction removeEle(ele) {\r\n    ele.find(\"option\").remove();\r\n    // var optionStar = \"<option value=\" + \"\" + \">\" + \"待定\" + \"</option>\";\r\n    // ele.append(optionStar);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/timeplan.js"],"sourceRoot":""}