{"version":3,"sources":["webpack:///static/js/courseVideo.js","webpack:///webpack/bootstrap e566e7e6ec6be139c8ed","webpack:///./src/js/modules/header.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/js/modules/prompt.js","webpack:///./src/js/courseVideo.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","global","_prompt","pop","timer","loginInfo","$","tipsUser","on","clearTimeout","show","ajax","url","data","success","json","plan","today_complete_rate","attr","html","setTimeout","hide","btnSoso","soso","val","length","window","open","keyup","document","keypress","e","which","location","hostname","ajaxSetup","beforeSend","xhr","settings","setRequestHeader","WXJY","csrfToken","statusCode","200","mess","code","message","401","href","500","error","withCredentials","g","this","Function","eval","txt","color","appendTo","bg","text","css","removeClass","addClass","value","getComment","num","order","id","page","isEmptyObject","comments","total","next_page_url","prev_page_url","class","data-url","lis","each","v","children_html","children","i2","v2","user","avatar","nickname","content","is_voted","vote_count","created_at","prependTo","jia","that","c1","c2","find","parseInt","end","jian","click","hasClass","post","test_volume_id","vote_type","closest","comment_id","_this","siblings","slideUp","remove","insertAfter","slideDown","comment","pid","$parent","$connum","t","size","after","parent","h","offset","top","animate","scrollTop","li","change","getCaption","obj","index","lastIndexOf","substring"],"mappings":"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","file":"static/js/courseVideo.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 10);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar _prompt = __webpack_require__(2);\n\nglobal.pop = _prompt.pop;\n// 导航\nvar timer = null;\nvar loginInfo = $('.js-login-info');\nvar tipsUser = $('.js-tips-user');\nloginInfo.on('mouseenter', function () {\n    clearTimeout(timer);\n    tipsUser.show();\n    $.ajax({\n        url: '/api/plan/info',\n        data: {},\n        success: function success(json) {\n            if (json && json.plan) {\n                var plan = json.plan;\n                var today_complete_rate = plan.today_complete_rate;\n                $('.circle circle[stroke-dasharray]').attr('stroke-dasharray', today_complete_rate * 2 + ' ' + (200 - today_complete_rate * 2));\n                $('.circle span').html(today_complete_rate + '%');\n            }\n        }\n    });\n});\nloginInfo.on('mouseleave', function () {\n    timer = setTimeout(function () {\n        tipsUser.hide();\n    }, 300);\n});\n\ntipsUser.on('mouseenter', function () {\n    clearTimeout(timer);\n});\n\ntipsUser.on('mouseleave', function () {\n    timer = setTimeout(function () {\n        tipsUser.hide();\n    }, 300);\n});\n\nvar btnSoso = $('.page-header__search .butn-soso');\nbtnSoso.on('click', function () {\n    // console.info(\"RUN\");\n    var soso = $('.page-header__search input').val();\n    if (soso && soso.length > 0) {\n        window.open('/search?keywords=' + soso, '_blank');\n        $('.page-header__search input').val('');\n        // console.info(soso);\n    }\n});\n$(\".page-header__search input\").keyup(function () {\n    $(document).keypress(function (e) {\n        // 回车键事件\n        if (e.which == 13) {\n            var soso = $('.page-header__search input').val();\n            if (soso && soso.length > 0) {\n                window.open('/search?keywords=' + soso, '_blank');\n                // console.info(soso);\n            }\n        }\n    });\n});\nif (location.hostname == 'localhost') {\n    $.ajaxSetup({\n        beforeSend: function beforeSend(xhr, settings) {\n            xhr.setRequestHeader(\"Authorization\", \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjU0MDQ0MDQxZDA0M2RjMDgyYWJjNDA4OTg2OTlmZjc5ZjFmNzA0ZDgxNzEwNGYwYjVmYmYzY2ZjZjhmOWM4MTdiMzBhYjRiOWNmMTk3NDUyIn0.eyJhdWQiOiI2IiwianRpIjoiNTQwNDQwNDFkMDQzZGMwODJhYmM0MDg5ODY5OWZmNzlmMWY3MDRkODE3MTA0ZjBiNWZiZjNjZmNmOGY5YzgxN2IzMGFiNGI5Y2YxOTc0NTIiLCJpYXQiOjE1MjA2NzcxMDgsIm5iZiI6MTUyMDY3NzEwOCwiZXhwIjoxNTUyMjEzMTA4LCJzdWIiOiI4Iiwic2NvcGVzIjpbXX0.3irFbm_3KpOt6F4RsqJBsNH6NnvagJqLbRX3gPl_8uCJySMYpBBvDTXtMTmNqxTg02qviGTkw2gQw0e366keWAwP9ShKHfZQlS3uOINUzNBciB5BUFwP7PdFpgyPXVs5aCSU48Bmwb-QAZEv2rrX5CYGF0cxYjvDRjFWrGJwSiED9lxRva78057ioFicMeGsdVZjacqjzHzEi4EQHbaYt3KgT6z3EucFXcxk5ZyB9wlaXtdfrJ1JlPA4rv4bN-m6AYUVXOFy_XKLUU2_13xYIL3a0qVCL6_xMQxIueHvdi-46gwvTIkKfmbJSSpOcfuuUp3SG0i7YA4d5XArXuGRKO4iQ8aFQ0KBh8ot5n5MfdSVK9ZpA5-Ym-5O1NSbcnxDHYWj2XGzwqoSQrLGP9R-ijX0eITN7rcGfnIEgHYTwgIya8O7Rd6qqvQ-QCgX5PuxSSwlvBKpf49ENJxrX_CQY0d8Fh0R6zB5orsEzR6wQhOhzTi0OJuTgRq6V9Qc91PGBZVJKwE3Xxip3Mcf3wxTKEKgAdBb-I5cSbVgeZJN4eIC5ik0ASLrSaroQyMLe9xT7OOCnm1vA-A6iEWJcx7NIzsrfhEtCgSDs11pnQr70ltgLSdYoWi8NwSXpo37EP4io8ozRCC2qnuE3TlfqMzgJ14AlgXmipySWhhVrhuKtzw\");\n            settings.url = \"http://wxjy-mingyang.mion.cn\" + settings.url;\n        }\n    });\n} else {\n    $.ajaxSetup({\n        beforeSend: function beforeSend(xhr) {\n            window.WXJY = WXJY || {};\n            if (typeof WXJY.csrfToken !== 'undefined') {\n                xhr.setRequestHeader(\"X-CSRF-TOKEN\", WXJY.csrfToken);\n            }\n        }\n    });\n}\n$.ajaxSetup({\n    statusCode: {\n        200: function _(mess) {\n            if (!mess.code == 0) {\n                (0, _prompt.pop)(mess.message, '#fa8c16');\n            }\n        },\n        401: function _() {\n            window.location.href = '/login';\n        },\n        500: function _() {\n            (0, _prompt.pop)('网络异常，请稍后再试', 'red');\n        }\n    },\n    error: function error(mess) {\n        if (mess.error == 'Unauthenticated.') {\n            window.location.href = '/login';\n        }\n    },\n    withCredentials: true\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar g;\n\n// This works in non-strict mode\ng = (function () {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n//提示框动画\n\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nfunction pop(txt, color) {\n    if (!$('.popprompt')[0]) {\n        $('<div class=\"popprompt\">看什么看，做题</div>').appendTo('body');\n    }\n    var bg = color ? color : '#00e290';\n    $('.popprompt').text('').text(txt).css('background', bg).removeClass('off').addClass('on');\n    setTimeout(function () {\n        $('.popprompt').removeClass('on').addClass('off');\n    }, 2000);\n}\n\nexports.pop = pop;\n\n/***/ }),\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// var options = {\n//   \"controls\": true,\n//   \"autoplay\": false,\n//   \"preload\": \"auto\",\n//   \"loop\": false,\n//   width: 1200,\n//   height: 616,\n//   controlBar: {\n//     captionsButton: false,\n//     chaptersButton: false,\n//     playbackRateMenuButton: true,\n//     LiveDisplay: true,\n//     subtitlesButton: false,\n//     remainingTimeDisplay: true,\n//\n//     progressControl: true,\n//   }\n// };\n//\n// var player = videojs('my-player', options, function onPlayerReady() {\n//   videojs.log('Your player is ready!');\n//\n//   // In this context, `this` is the player that was created by Video.js.\n//   this.play();\n//\n//   // How about an event listener?\n//   this.on('ended', function () {\n//     videojs.log('Awww...over so soon?!');\n//   });\n// });\n//\n// $('.js-more-class').on('click', function (e) {\n//   e.preventDefault();\n//   $('.js-video-right').toggleClass('show');\n// })\n\n\n__webpack_require__(0);\n\n$(function () {\n    var id = $('.page-content').data('testVolumeId');\n    //视频点赞操作\n    $('.title-zan').click(function () {\n        var that = this;\n        if (!$(this).hasClass('added-zan')) {\n            $.post('/api/volume/vote', { test_volume_id: id, vote_type: 1 }, function (mess) {\n                if (mess && mess.code === 0) {\n                    jia(that, 'icon-video-nozan-big', 'icon-video-zan-big');\n                }\n            });\n        } else {\n            $.post('/api/volume/vote', { test_volume_id: id, vote_type: 0 }, function (mess) {\n                if (mess && mess.code === 0) {\n                    jian(that, 'icon-video-zan-big', 'icon-video-nozan-big');\n                }\n            });\n        }\n    });\n\n    getComment();\n\n    //获取评论列表\n    function getComment(num) {\n        var order = $('.butn-sort').val();\n        $.get('/api/volume/video/' + id, { page: num ? num : 1, order: order }, function (mess) {\n            if (mess.code === 0 && !$.isEmptyObject(mess.data)) {\n                if (mess.data.comments.total > 0) {\n                    var data = mess.data.comments;\n                    $('.commont-list h3 span').text(data.total);\n                    $('.commont-list ul').html('');\n                    if (data.next_page_url || data.prev_page_url) {\n                        $('.page-navgator').show();\n                        $('.page-navgator a:first-child').attr({\n                            'class': data.prev_page_url ? '' : 'disabled',\n                            'data-url': data.prev_page_url\n                        });\n                        $('.page-navgator a:last-child').attr({\n                            'class': data.next_page_url ? '' : 'disabled',\n                            'data-url': data.next_page_url\n                        });\n                    }\n                    if (data.data.length > 0) {\n                        var comments = data.data;\n                        var lis = '';\n                        $.each(comments, function (i, v) {\n\n                            var children_html = '';\n                            if (v.children.length > 0) {\n                                children_html = '<ul class=\"advice-sub\">';\n                                $.each(v.children, function (i2, v2) {\n                                    children_html += '<li>\\n                                        <div class=\"left\">\\n                                            ' + (v2.user.avatar ? '<img src=' + v2.user.avatar + ' alt=\"\">' : '<img src=\"/static/imgs/header.png\" alt=\"\">') + '\\n                                        </div>\\n                                        <div class=\"right\">\\n                                            <p class=\"title\">' + v2.user.nickname + '</p>\\n                                            <p>' + v2.content + '</p>\\n                                        </div>\\n                                    </li>';\n                                });\n                                children_html += '</ul>';\n                            }\n                            lis += '<li data-comment-id=' + v.id + '>\\n                                    <div class=\"advice-par clearfix\">\\n                                        <div class=\"left\">\\n                                            ' + (v.user.avatar ? '<img src=' + v.user.avatar + ' alt=\"\">' : '<img src=\"/static/imgs/header.png\" alt=\"\">') + '\\n                                        </div>\\n                                        <div class=\"right\">\\n                                            <p class=\"title\">' + v.user.nickname + '</p>\\n                                            <p>' + v.content + '</p>\\n                                            <p class=\"foot\">\\n                                            ' + (v.is_voted ? '<span class=\"added-zan\"><i class=\"icon-video-zan\"></i> 赞同 <span>' + v.vote_count + '</span></span>' : '<span><i class=\"icon-video-nozan\"></i> 赞同 <span>' + v.vote_count + '</span></span>') + '\\n                                                <span><i class=\"icon-video-message\"></i> 评论 <span class=\"connum\">' + v.children.length + '</span></span>\\n                                                <!--<span><i class=\"icon-video-share\"></i> 分享 <span>2</span></span>-->\\n                                                <span class=\"fr\">' + v.created_at + '</span>\\n                                            </p>\\n                                        </div>\\n                                        </div>\\n                                        ' + children_html + '\\n                                    </li>';\n                        });\n\n                        $(lis).appendTo('.commont-list ul');\n                    }\n                } else if (mess.code === 0 && mess.data.comments.total === 0) {\n                    $('.page-navgator').hide();\n                    $('.commont-list h3 span').text(0);\n                    $('.commont-list ul').html('');\n                    $('<span>暂无评论</span>').prependTo($('.commont-list'));\n                }\n            }\n        });\n    }\n\n    //评论点赞\n    $('.commont-list ul').on('click', '.foot>span:first-of-type', function () {\n        var id = $(this).closest('li').data('commentId'),\n            that = this;\n        if (!$(this).hasClass('added-zan')) {\n            $.post('/api/comment/vote', { comment_id: id, vote_type: 1 }, function (mess) {\n                if (mess && mess.code === 0) {\n                    jia(that, 'icon-video-nozan', 'icon-video-zan');\n                }\n            });\n        } else {\n            $.post('/api/comment/vote', { comment_id: id, vote_type: 0 }, function (mess) {\n                if (mess && mess.code === 0) {\n                    jian(that, 'icon-video-zan', 'icon-video-nozan');\n                }\n            });\n        }\n    });\n    //参与评论\n    $('.commont-list ul').on('click', '.foot>span:nth-of-type(2)', function () {\n        var _this = this;\n\n        if (!$(this).hasClass('s')) {\n            $('<div class=\"advice-adv clearfix\">\\n                    <textarea placeholder=\\'请输入内容\\'></textarea>\\n                    <p>提交</p>\\n                </div>').insertAfter($(this).closest('.advice-par'));\n            $(this).addClass('s').closest('.advice-par').siblings('.advice-adv').slideDown();\n        } else {\n            $(this).removeClass('s').closest('.advice-par').siblings('.advice-adv').slideUp(function () {\n                return $(_this).closest('.advice-par').siblings('.advice-adv').remove();\n            });\n        }\n    });\n    //参与评论提交\n    $('.commont-list ul').on('click', '.advice-adv p', function () {\n        var comment = $('.advice-adv textarea').val();\n        var pid = $(this).closest('li').data('commentId');\n        var that = this;\n        $.post('/api/volume/addComment', {\n            content: comment,\n            test_volume_id: id,\n            pid: pid\n        }, function (mess) {\n            if (mess && mess.code === 0) {\n                if ($.isEmptyObject(mess.data.comment)) {\n                    return;\n                }\n                var $parent = $(that).closest('li');\n                var $connum = $parent.find('.connum');\n                var t = parseInt($connum.text());\n                t++;\n                $connum.text(t);\n\n                $('.advice-sub', $parent).size() || $('.advice-par', $parent).after($('<ul/>', { 'class': 'advice-sub' }));\n\n                $(that).parent().remove();\n                $('<li>\\n                    <div class=\"left\">\\n                        ' + (mess.data.comment.user.avatar ? '<img src=' + mess.data.comment.user.avatar + ' alt=\"\">' : '<img src=\"/static/imgs/header.png\" alt=\"\">') + '\\n                    </div>\\n                    <div class=\"right\">\\n                        <p class=\"title\">' + mess.data.comment.user.nickname + '</p>\\n                        <p>' + mess.data.comment.content + '</p>\\n                    </div>\\n                </li>').prependTo($('.advice-sub', $parent));\n                $connum.parent().removeClass('s');\n            }\n        });\n    });\n    //发表评论\n    $('.form-wrapper input').click(function () {\n        var c = $(this).siblings('textarea').val(),\n            that = this;\n        $.post('/api/volume/addComment', { test_volume_id: id, content: c }, function (mess) {\n            if (mess.code === 0 && !$.isEmptyObject(mess.data)) {\n                if (mess.data.comment) {\n                    (function () {\n                        var h = $('.commont-list').offset().top - 100;\n                        $('html,body').animate({ 'scrollTop': h }, 800);\n                        $(that).siblings('textarea').val('');\n                        var comment = mess.data.comment;\n                        var li = '<li class=\"newComment\" data-comment-id=' + comment.id + '>\\n                                    <div class=\"advice-par clearfix\">\\n                                    <div class=\"left\">\\n                                        ' + (comment.user.avatar ? '<img src=' + comment.user.avatar + ' alt=\"\">' : '<img src=\"/static/imgs/header.png\" alt=\"\">') + '\\n                                    </div>\\n                                    <div class=\"right\">\\n                                        <p class=\"title\">' + comment.user.nickname + '</p>\\n                                        <p>' + comment.content + '</p>\\n                                        <p class=\"foot\">\\n                                            <span><i class=\"icon-video-nozan\"></i> 赞同 <span>0</span></span>\\n                                            <span><i class=\"icon-video-message\"></i> 评论 <span class=\"connum\">0</span></span>\\n                                            <!--<span><i class=\"icon-video-share\"></i> 分享 <span>2</span></span>-->\\n                                            <span class=\"fr\">' + comment.created_at + '</span>\\n                                        </p>\\n                                    </div>\\n                                    </div>\\n                                </li>';\n                        $('.commont-list>span').remove();\n                        $(li).prependTo('.commont-list>ul');\n                        var remC = setTimeout(function () {\n                            return $(li).removeClass('newComment');\n                        }, 2000);\n                    })();\n                }\n            }\n        });\n    });\n\n    //筛选条件改变\n    $('.butn-sort').change(function () {\n        getComment();\n    });\n    //分页\n    $('.page-navgator a').click(function () {\n\n        if ($(this).data('url')) {\n            var getCaption = function getCaption(obj) {\n                var index = obj.lastIndexOf(\"=\");\n                obj = obj.substring(index + 1, obj.length);\n                return obj;\n            };\n\n            var h = $('.commont-list').offset().top - 100;\n            $('html,body').animate({ 'scrollTop': h });\n\n            var num = getCaption($(this).data('url'));\n            getComment(num);\n        }\n    });\n\n    function jia(that, c1, c2) {\n        $(that).addClass('added-zan').find('span').text(parseInt($(that).find('span').text()) + 1).end().find('i').removeClass(c1).addClass(c2);\n    }\n\n    function jian(that, c1, c2) {\n        $(that).removeClass('added-zan').find('span').text(parseInt($(that).find('span').text()) - 1).end().find('i').removeClass(c1).addClass(c2);\n    }\n});\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// static/js/courseVideo.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e566e7e6ec6be139c8ed","import {pop} from './prompt'\r\nglobal.pop=pop\r\n// 导航\r\nvar timer = null;\r\nvar loginInfo = $('.js-login-info');\r\nvar tipsUser = $('.js-tips-user');\r\nloginInfo.on('mouseenter', function () {\r\n    clearTimeout(timer);\r\n    tipsUser.show();\r\n    $.ajax({\r\n        url: '/api/plan/info',\r\n        data: {},\r\n        success: function(json) {\r\n            if (json && json.plan) {\r\n                var plan = json.plan;\r\n                var today_complete_rate = plan.today_complete_rate;\r\n                $('.circle circle[stroke-dasharray]')\r\n                    .attr('stroke-dasharray', (today_complete_rate * 2) + ' ' + (200 - today_complete_rate * 2));\r\n                $('.circle span').html(today_complete_rate + '%');\r\n            }\r\n        },\r\n    });\r\n});\r\nloginInfo.on('mouseleave', function () {\r\n    timer = setTimeout(function () {\r\n        tipsUser.hide();\r\n    }, 300);\r\n});\r\n\r\ntipsUser.on('mouseenter', function () {\r\n    clearTimeout(timer);\r\n});\r\n\r\ntipsUser.on('mouseleave', function () {\r\n    timer = setTimeout(function () {\r\n        tipsUser.hide();\r\n    }, 300);\r\n});\r\n\r\nvar btnSoso = $('.page-header__search .butn-soso');\r\nbtnSoso.on('click', function() {\r\n    // console.info(\"RUN\");\r\n    var soso = $('.page-header__search input').val();\r\n    if (soso && soso.length > 0) {\r\n        window.open('/search?keywords=' + soso, '_blank');\r\n        $('.page-header__search input').val('')\r\n        // console.info(soso);\r\n    }\r\n});\r\n$(\".page-header__search input\").keyup(()=>{\r\n    $(document).keypress(function(e) {\r\n        // 回车键事件\r\n        if(e.which == 13) {\r\n            var soso = $('.page-header__search input').val();\r\n            if (soso && soso.length > 0) {\r\n                window.open('/search?keywords=' + soso, '_blank');\r\n                // console.info(soso);\r\n            }\r\n        }\r\n    });\r\n});\r\nif(location.hostname=='localhost'){\r\n    $.ajaxSetup({\r\n        beforeSend: function (xhr,settings) {\r\n            xhr.setRequestHeader(\"Authorization\",\"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjU0MDQ0MDQxZDA0M2RjMDgyYWJjNDA4OTg2OTlmZjc5ZjFmNzA0ZDgxNzEwNGYwYjVmYmYzY2ZjZjhmOWM4MTdiMzBhYjRiOWNmMTk3NDUyIn0.eyJhdWQiOiI2IiwianRpIjoiNTQwNDQwNDFkMDQzZGMwODJhYmM0MDg5ODY5OWZmNzlmMWY3MDRkODE3MTA0ZjBiNWZiZjNjZmNmOGY5YzgxN2IzMGFiNGI5Y2YxOTc0NTIiLCJpYXQiOjE1MjA2NzcxMDgsIm5iZiI6MTUyMDY3NzEwOCwiZXhwIjoxNTUyMjEzMTA4LCJzdWIiOiI4Iiwic2NvcGVzIjpbXX0.3irFbm_3KpOt6F4RsqJBsNH6NnvagJqLbRX3gPl_8uCJySMYpBBvDTXtMTmNqxTg02qviGTkw2gQw0e366keWAwP9ShKHfZQlS3uOINUzNBciB5BUFwP7PdFpgyPXVs5aCSU48Bmwb-QAZEv2rrX5CYGF0cxYjvDRjFWrGJwSiED9lxRva78057ioFicMeGsdVZjacqjzHzEi4EQHbaYt3KgT6z3EucFXcxk5ZyB9wlaXtdfrJ1JlPA4rv4bN-m6AYUVXOFy_XKLUU2_13xYIL3a0qVCL6_xMQxIueHvdi-46gwvTIkKfmbJSSpOcfuuUp3SG0i7YA4d5XArXuGRKO4iQ8aFQ0KBh8ot5n5MfdSVK9ZpA5-Ym-5O1NSbcnxDHYWj2XGzwqoSQrLGP9R-ijX0eITN7rcGfnIEgHYTwgIya8O7Rd6qqvQ-QCgX5PuxSSwlvBKpf49ENJxrX_CQY0d8Fh0R6zB5orsEzR6wQhOhzTi0OJuTgRq6V9Qc91PGBZVJKwE3Xxip3Mcf3wxTKEKgAdBb-I5cSbVgeZJN4eIC5ik0ASLrSaroQyMLe9xT7OOCnm1vA-A6iEWJcx7NIzsrfhEtCgSDs11pnQr70ltgLSdYoWi8NwSXpo37EP4io8ozRCC2qnuE3TlfqMzgJ14AlgXmipySWhhVrhuKtzw\");\r\n            settings.url = \"http://wxjy-mingyang.mion.cn\" + settings.url;\r\n        }\r\n    })\r\n}else{\r\n    $.ajaxSetup({\r\n        beforeSend:function (xhr) {\r\n            window.WXJY = WXJY || {};\r\n            if(typeof WXJY.csrfToken !=='undefined'){\r\n                xhr.setRequestHeader(\"X-CSRF-TOKEN\", WXJY.csrfToken);\r\n            }\r\n        },\r\n    })\r\n}\r\n$.ajaxSetup({\r\n    statusCode: {\r\n        200:function (mess) {\r\n          if(!mess.code==0){\r\n              pop(mess.message,'#fa8c16')\r\n          }\r\n        },\r\n        401: function () {\r\n            window.location.href = '/login'\r\n        },\r\n        500: function () {\r\n            pop('网络异常，请稍后再试','red')\r\n        }\r\n    },\r\n    error: function (mess) {\r\n        if (mess.error == 'Unauthenticated.') {\r\n            window.location.href = '/login'\r\n        }\r\n    },\r\n    withCredentials: true\r\n});\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/header.js","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","//提示框动画\r\nfunction pop(txt, color) {\r\n    if(!$('.popprompt')[0]){\r\n        $(`<div class=\"popprompt\">看什么看，做题</div>`).appendTo('body')\r\n    }\r\n    let bg = color ? color : '#00e290'\r\n    $('.popprompt').text('').text(txt).css('background', bg).removeClass('off').addClass('on')\r\n    setTimeout(() => {\r\n        $('.popprompt').removeClass('on').addClass('off')\r\n    }, 2000)\r\n}\r\n\r\nexport {pop}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/prompt.js","// var options = {\r\n//   \"controls\": true,\r\n//   \"autoplay\": false,\r\n//   \"preload\": \"auto\",\r\n//   \"loop\": false,\r\n//   width: 1200,\r\n//   height: 616,\r\n//   controlBar: {\r\n//     captionsButton: false,\r\n//     chaptersButton: false,\r\n//     playbackRateMenuButton: true,\r\n//     LiveDisplay: true,\r\n//     subtitlesButton: false,\r\n//     remainingTimeDisplay: true,\r\n//\r\n//     progressControl: true,\r\n//   }\r\n// };\r\n//\r\n// var player = videojs('my-player', options, function onPlayerReady() {\r\n//   videojs.log('Your player is ready!');\r\n//\r\n//   // In this context, `this` is the player that was created by Video.js.\r\n//   this.play();\r\n//\r\n//   // How about an event listener?\r\n//   this.on('ended', function () {\r\n//     videojs.log('Awww...over so soon?!');\r\n//   });\r\n// });\r\n//\r\n// $('.js-more-class').on('click', function (e) {\r\n//   e.preventDefault();\r\n//   $('.js-video-right').toggleClass('show');\r\n// })\r\nimport './modules/header'\r\n\r\n$(function () {\r\n    let id = $('.page-content').data('testVolumeId');\r\n    //视频点赞操作\r\n    $('.title-zan').click(function () {\r\n        let that = this;\r\n        if (!$(this).hasClass('added-zan')) {\r\n            $.post('/api/volume/vote', {test_volume_id: id, vote_type: 1}, function (mess) {\r\n                if (mess && mess.code === 0) {\r\n                    jia(that, 'icon-video-nozan-big', 'icon-video-zan-big')\r\n                }\r\n            })\r\n        } else {\r\n            $.post('/api/volume/vote', {test_volume_id: id, vote_type: 0}, function (mess) {\r\n                if (mess && mess.code === 0) {\r\n                    jian(that, 'icon-video-zan-big', 'icon-video-nozan-big')\r\n                }\r\n            })\r\n        }\r\n    });\r\n\r\n    getComment();\r\n\r\n    //获取评论列表\r\n    function getComment(num) {\r\n        let order = $('.butn-sort').val();\r\n        $.get(`/api/volume/video/${id}`, {page: num ? num : 1, order: order}, function (mess) {\r\n            if (mess.code === 0 && !$.isEmptyObject(mess.data)) {\r\n                if (mess.data.comments.total > 0) {\r\n                    let data = mess.data.comments;\r\n                    $('.commont-list h3 span').text(data.total);\r\n                    $('.commont-list ul').html('');\r\n                    if (data.next_page_url || data.prev_page_url) {\r\n                        $('.page-navgator').show();\r\n                        $('.page-navgator a:first-child').attr({\r\n                            'class': data.prev_page_url ? '' : 'disabled',\r\n                            'data-url': data.prev_page_url\r\n                        });\r\n                        $('.page-navgator a:last-child').attr({\r\n                            'class': data.next_page_url ? '' : 'disabled',\r\n                            'data-url': data.next_page_url\r\n                        })\r\n                    }\r\n                    if (data.data.length > 0) {\r\n                        let comments = data.data;\r\n                        let lis = '';\r\n                        $.each(comments, (i, v) => {\r\n\r\n                            var children_html = '';\r\n                            if (v.children.length > 0) {\r\n                                children_html = '<ul class=\"advice-sub\">';\r\n                                $.each(v.children, (i2, v2) => {\r\n                                    children_html+=`<li>\r\n                                        <div class=\"left\">\r\n                                            ${v2.user.avatar ?\r\n                                                    `<img src=${v2.user.avatar} alt=\"\">` :\r\n                                                    `<img src=\"/static/imgs/header.png\" alt=\"\">`}\r\n                                        </div>\r\n                                        <div class=\"right\">\r\n                                            <p class=\"title\">${v2.user.nickname}</p>\r\n                                            <p>${v2.content}</p>\r\n                                        </div>\r\n                                    </li>`})\r\n                                children_html += '</ul>';\r\n                            }\r\n                            lis += `<li data-comment-id=${v.id}>\r\n                                    <div class=\"advice-par clearfix\">\r\n                                        <div class=\"left\">\r\n                                            ${v.user.avatar ?\r\n                                    `<img src=${v.user.avatar} alt=\"\">` :\r\n                                    `<img src=\"/static/imgs/header.png\" alt=\"\">`}\r\n                                        </div>\r\n                                        <div class=\"right\">\r\n                                            <p class=\"title\">${v.user.nickname}</p>\r\n                                            <p>${v.content}</p>\r\n                                            <p class=\"foot\">\r\n                                            ${v.is_voted ?\r\n                                    `<span class=\"added-zan\"><i class=\"icon-video-zan\"></i> 赞同 <span>${v.vote_count}</span></span>` :\r\n                                    `<span><i class=\"icon-video-nozan\"></i> 赞同 <span>${v.vote_count}</span></span>`}\r\n                                                <span><i class=\"icon-video-message\"></i> 评论 <span class=\"connum\">${v.children.length}</span></span>\r\n                                                <!--<span><i class=\"icon-video-share\"></i> 分享 <span>2</span></span>-->\r\n                                                <span class=\"fr\">${v.created_at}</span>\r\n                                            </p>\r\n                                        </div>\r\n                                        </div>\r\n                                        ${children_html}\r\n                                    </li>`\r\n                        });\r\n\r\n                        $(lis).appendTo('.commont-list ul')\r\n                    }\r\n                } else if (mess.code === 0 && mess.data.comments.total === 0) {\r\n                    $('.page-navgator').hide()\r\n                    $('.commont-list h3 span').text(0);\r\n                    $('.commont-list ul').html('');\r\n                    $(`<span>暂无评论</span>`).prependTo($('.commont-list'))\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    //评论点赞\r\n    $('.commont-list ul').on('click', '.foot>span:first-of-type', function () {\r\n        let id = $(this).closest('li').data('commentId'), that = this;\r\n        if (!$(this).hasClass('added-zan')) {\r\n            $.post('/api/comment/vote', {comment_id: id, vote_type: 1}, function (mess) {\r\n                if (mess && mess.code === 0) {\r\n                    jia(that, 'icon-video-nozan', 'icon-video-zan')\r\n                }\r\n            })\r\n        } else {\r\n            $.post('/api/comment/vote', {comment_id: id, vote_type: 0}, function (mess) {\r\n                if (mess && mess.code === 0) {\r\n                    jian(that, 'icon-video-zan', 'icon-video-nozan')\r\n                }\r\n            })\r\n        }\r\n    });\r\n    //参与评论\r\n    $('.commont-list ul').on('click', '.foot>span:nth-of-type(2)', function () {\r\n        if (!$(this).hasClass('s')) {\r\n            $(`<div class=\"advice-adv clearfix\">\r\n                    <textarea placeholder='请输入内容'></textarea>\r\n                    <p>提交</p>\r\n                </div>`).insertAfter($(this).closest('.advice-par'))\r\n            $(this).addClass('s').closest('.advice-par').siblings('.advice-adv').slideDown()\r\n        } else {\r\n            $(this).removeClass('s').closest('.advice-par').siblings('.advice-adv').slideUp(()=>$(this).closest('.advice-par').siblings('.advice-adv').remove())\r\n        }\r\n    });\r\n    //参与评论提交\r\n    $('.commont-list ul').on('click','.advice-adv p',function () {\r\n        let comment = $('.advice-adv textarea').val();\r\n        let pid = $(this).closest('li').data('commentId');\r\n        let that=this;\r\n        $.post('/api/volume/addComment', {\r\n            content: comment,\r\n            test_volume_id: id,\r\n            pid: pid\r\n        }, function (mess) {\r\n            if(mess&&mess.code===0){\r\n                if($.isEmptyObject(mess.data.comment)){\r\n                   return\r\n                }\r\n                var $parent = $(that).closest('li');\r\n                var $connum = $parent.find('.connum');\r\n                let t=parseInt($connum.text())\r\n                t++;\r\n                $connum.text(t)\r\n\r\n                $('.advice-sub', $parent).size() || $('.advice-par', $parent).after($('<ul/>', {class: 'advice-sub'}))\r\n\r\n                $(that).parent().remove();\r\n                $(`<li>\r\n                    <div class=\"left\">\r\n                        ${mess.data.comment.user.avatar ?\r\n                    `<img src=${mess.data.comment.user.avatar} alt=\"\">` :\r\n                    `<img src=\"/static/imgs/header.png\" alt=\"\">`}\r\n                    </div>\r\n                    <div class=\"right\">\r\n                        <p class=\"title\">${mess.data.comment.user.nickname}</p>\r\n                        <p>${mess.data.comment.content}</p>\r\n                    </div>\r\n                </li>`).prependTo($('.advice-sub', $parent))\r\n                $connum.parent().removeClass('s')\r\n            }\r\n        })\r\n    });\r\n    //发表评论\r\n    $('.form-wrapper input').click(function () {\r\n        let c = $(this).siblings('textarea').val(), that=this;\r\n        $.post('/api/volume/addComment', {test_volume_id: id, content: c}, function (mess) {\r\n            if (mess.code === 0 && !$.isEmptyObject(mess.data)) {\r\n                if (mess.data.comment) {\r\n                    let h = $('.commont-list').offset().top - 100;\r\n                    $('html,body').animate({'scrollTop': h},800);\r\n                    $(that).siblings('textarea').val('');\r\n                    let comment = mess.data.comment;\r\n                    let li = `<li class=\"newComment\" data-comment-id=${comment.id}>\r\n                                    <div class=\"advice-par clearfix\">\r\n                                    <div class=\"left\">\r\n                                        ${comment.user.avatar ?\r\n                                `<img src=${comment.user.avatar} alt=\"\">` :\r\n                                `<img src=\"/static/imgs/header.png\" alt=\"\">`}\r\n                                    </div>\r\n                                    <div class=\"right\">\r\n                                        <p class=\"title\">${comment.user.nickname}</p>\r\n                                        <p>${comment.content}</p>\r\n                                        <p class=\"foot\">\r\n                                            <span><i class=\"icon-video-nozan\"></i> 赞同 <span>0</span></span>\r\n                                            <span><i class=\"icon-video-message\"></i> 评论 <span class=\"connum\">0</span></span>\r\n                                            <!--<span><i class=\"icon-video-share\"></i> 分享 <span>2</span></span>-->\r\n                                            <span class=\"fr\">${comment.created_at}</span>\r\n                                        </p>\r\n                                    </div>\r\n                                    </div>\r\n                                </li>`;\r\n                    $('.commont-list>span').remove();\r\n                    $(li).prependTo('.commont-list>ul');\r\n                    let remC=setTimeout(()=>$(li).removeClass('newComment'),2000)\r\n                }\r\n            }\r\n        })\r\n    });\r\n\r\n    //筛选条件改变\r\n    $('.butn-sort').change(() => {\r\n        getComment()\r\n    });\r\n    //分页\r\n    $('.page-navgator a').click(function () {\r\n\r\n        if ($(this).data('url')) {\r\n            let h = $('.commont-list').offset().top - 100;\r\n            $('html,body').animate({'scrollTop': h});\r\n\r\n            function getCaption(obj) {\r\n                let index = obj.lastIndexOf(\"=\");\r\n                obj = obj.substring(index + 1, obj.length);\r\n                return obj;\r\n            }\r\n\r\n            let num = getCaption($(this).data('url'));\r\n            getComment(num);\r\n\r\n        }\r\n\r\n    });\r\n\r\n    function jia(that, c1, c2) {\r\n        $(that).addClass('added-zan').find('span').text(parseInt($(that).find('span').text()) + 1).end().find('i').removeClass(c1).addClass(c2)\r\n    }\r\n\r\n    function jian(that, c1, c2) {\r\n        $(that).removeClass('added-zan').find('span').text(parseInt($(that).find('span').text()) - 1).end().find('i').removeClass(c1).addClass(c2)\r\n    }\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/js/courseVideo.js"],"sourceRoot":""}